<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: o2::emcal::CellRecalibratorSpec Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../de/dfd/classo2_1_1emcal_1_1CellRecalibratorSpec-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">o2::emcal::CellRecalibratorSpec Class Reference<div class="ingroups"><a class="el" href="../../db/d07/group__DetectorEMCAL.html">EMCAL</a> &raquo; <a class="el" href="../../d0/dbe/group__EMCALworkflow.html">EMCAL workflow</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Recalibration workflow at cell level.  
 <a href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="../../de/dac/classo2_1_1framework_1_1Task.html">o2::framework::Task</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0c5ea60524eb0c489e7512cea646c7f2" id="r_a0c5ea60524eb0c489e7512cea646c7f2"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a0c5ea60524eb0c489e7512cea646c7f2">LEDEventSettings</a> { <a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a0c5ea60524eb0c489e7512cea646c7f2a60cba2874369bd3790e14ea5f8a7bc58">KEEP</a>
, <a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a0c5ea60524eb0c489e7512cea646c7f2abf8f3be424eb6a72b21549fbb24ffb57">DROP</a>
, <a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a0c5ea60524eb0c489e7512cea646c7f2a2890d54eabb244a83c4a3c85c0c60246">REDIRECT</a>
 }</td></tr>
<tr class="memdesc:a0c5ea60524eb0c489e7512cea646c7f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dedicated handling for LED events.  <a href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a0c5ea60524eb0c489e7512cea646c7f2">More...</a><br /></td></tr>
<tr class="separator:a0c5ea60524eb0c489e7512cea646c7f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a581e59fb27e05ecab81625b4ecd18819" id="r_a581e59fb27e05ecab81625b4ecd18819"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a581e59fb27e05ecab81625b4ecd18819">CellRecalibratorSpec</a> (uint32_t outputspec, <a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a0c5ea60524eb0c489e7512cea646c7f2">LEDEventSettings</a> ledsettings, bool badChannelCalib, bool timeCalib, bool gainCalib, bool isMC, std::shared_ptr&lt; <a class="el" href="../../d4/dea/classo2_1_1emcal_1_1CalibLoader.html">CalibLoader</a> &gt;(calibHandler))</td></tr>
<tr class="memdesc:a581e59fb27e05ecab81625b4ecd18819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:a581e59fb27e05ecab81625b4ecd18819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24385e1bc8339df2fb1354a9d2d46f01" id="r_a24385e1bc8339df2fb1354a9d2d46f01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a24385e1bc8339df2fb1354a9d2d46f01">~CellRecalibratorSpec</a> () final=default</td></tr>
<tr class="memdesc:a24385e1bc8339df2fb1354a9d2d46f01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a24385e1bc8339df2fb1354a9d2d46f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa20812c089dedffc23d07328a78dfbe" id="r_afa20812c089dedffc23d07328a78dfbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#afa20812c089dedffc23d07328a78dfbe">init</a> (<a class="el" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html">framework::InitContext</a> &amp;ctx) final</td></tr>
<tr class="memdesc:afa20812c089dedffc23d07328a78dfbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize recalibrator.  <br /></td></tr>
<tr class="separator:afa20812c089dedffc23d07328a78dfbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60a1fb2a84f6a7348df1282c8c68b489" id="r_a60a1fb2a84f6a7348df1282c8c68b489"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a60a1fb2a84f6a7348df1282c8c68b489">run</a> (<a class="el" href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html">framework::ProcessingContext</a> &amp;ctx) final</td></tr>
<tr class="memdesc:a60a1fb2a84f6a7348df1282c8c68b489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run recalibration of cells for a new timeframe.  <br /></td></tr>
<tr class="separator:a60a1fb2a84f6a7348df1282c8c68b489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a7290de8d5894e8ffe2608efccc2bce" id="r_a4a7290de8d5894e8ffe2608efccc2bce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a4a7290de8d5894e8ffe2608efccc2bce">finaliseCCDB</a> (<a class="el" href="../../dd/d69/structo2_1_1framework_1_1ConcreteDataMatcher.html">framework::ConcreteDataMatcher</a> &amp;matcher, <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> *obj) final</td></tr>
<tr class="memdesc:a4a7290de8d5894e8ffe2608efccc2bce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetching cell objects and assigning them to the internal handlers.  <br /></td></tr>
<tr class="separator:a4a7290de8d5894e8ffe2608efccc2bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5238f94efcf383101aafd2fa0a91fc91" id="r_a5238f94efcf383101aafd2fa0a91fc91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a5238f94efcf383101aafd2fa0a91fc91">setRunBadChannelCalibration</a> (bool doRun)</td></tr>
<tr class="memdesc:a5238f94efcf383101aafd2fa0a91fc91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch for bad channel calibration.  <br /></td></tr>
<tr class="separator:a5238f94efcf383101aafd2fa0a91fc91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18afa01f5086acdde85163d1a270e053" id="r_a18afa01f5086acdde85163d1a270e053"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a18afa01f5086acdde85163d1a270e053">setRunTimeCalibration</a> (bool doRun)</td></tr>
<tr class="memdesc:a18afa01f5086acdde85163d1a270e053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch for time calibration.  <br /></td></tr>
<tr class="separator:a18afa01f5086acdde85163d1a270e053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ccf78dffca79b34b836d13da6d6db0" id="r_a11ccf78dffca79b34b836d13da6d6db0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a11ccf78dffca79b34b836d13da6d6db0">setRunGainCalibration</a> (bool doRun)</td></tr>
<tr class="memdesc:a11ccf78dffca79b34b836d13da6d6db0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch for the gain calibration.  <br /></td></tr>
<tr class="separator:a11ccf78dffca79b34b836d13da6d6db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586d4715e5868ea4a178946399c0fe64" id="r_a586d4715e5868ea4a178946399c0fe64"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a586d4715e5868ea4a178946399c0fe64">isRunBadChannlCalibration</a> () const</td></tr>
<tr class="memdesc:a586d4715e5868ea4a178946399c0fe64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the bad channel calibration is enabled.  <br /></td></tr>
<tr class="separator:a586d4715e5868ea4a178946399c0fe64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf81871514aedce4152f7197690bce0" id="r_abcf81871514aedce4152f7197690bce0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#abcf81871514aedce4152f7197690bce0">isRunTimeCalibration</a> () const</td></tr>
<tr class="memdesc:abcf81871514aedce4152f7197690bce0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the time calibration is enabled.  <br /></td></tr>
<tr class="separator:abcf81871514aedce4152f7197690bce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac136c5762fbe7fceedfa2ba55cf91bb2" id="r_ac136c5762fbe7fceedfa2ba55cf91bb2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#ac136c5762fbe7fceedfa2ba55cf91bb2">isRunGainCalibration</a> () const</td></tr>
<tr class="memdesc:ac136c5762fbe7fceedfa2ba55cf91bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the gain calibration is enabled.  <br /></td></tr>
<tr class="separator:ac136c5762fbe7fceedfa2ba55cf91bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classo2_1_1framework_1_1Task"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classo2_1_1framework_1_1Task')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../de/dac/classo2_1_1framework_1_1Task.html">o2::framework::Task</a></td></tr>
<tr class="memitem:ac40f06fdacc1d5b4dd8e0f2edafc989e inherit pub_methods_classo2_1_1framework_1_1Task" id="r_ac40f06fdacc1d5b4dd8e0f2edafc989e"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dac/classo2_1_1framework_1_1Task.html#ac40f06fdacc1d5b4dd8e0f2edafc989e">~Task</a> ()</td></tr>
<tr class="separator:ac40f06fdacc1d5b4dd8e0f2edafc989e inherit pub_methods_classo2_1_1framework_1_1Task"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab845407fa71e29cc79bc1b86a61ca90c inherit pub_methods_classo2_1_1framework_1_1Task" id="r_ab845407fa71e29cc79bc1b86a61ca90c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dac/classo2_1_1framework_1_1Task.html#ab845407fa71e29cc79bc1b86a61ca90c">endOfStream</a> (<a class="el" href="../../da/de0/classo2_1_1framework_1_1EndOfStreamContext.html">EndOfStreamContext</a> &amp;context)</td></tr>
<tr class="memdesc:ab845407fa71e29cc79bc1b86a61ca90c inherit pub_methods_classo2_1_1framework_1_1Task"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is invoked whenever we have an EndOfStream event.  <br /></td></tr>
<tr class="separator:ab845407fa71e29cc79bc1b86a61ca90c inherit pub_methods_classo2_1_1framework_1_1Task"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a809bb66923f5b237485bcb72dfac0 inherit pub_methods_classo2_1_1framework_1_1Task" id="r_aa4a809bb66923f5b237485bcb72dfac0"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dac/classo2_1_1framework_1_1Task.html#aa4a809bb66923f5b237485bcb72dfac0">stop</a> ()</td></tr>
<tr class="memdesc:aa4a809bb66923f5b237485bcb72dfac0 inherit pub_methods_classo2_1_1framework_1_1Task"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is invoked on stop.  <br /></td></tr>
<tr class="separator:aa4a809bb66923f5b237485bcb72dfac0 inherit pub_methods_classo2_1_1framework_1_1Task"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Recalibration workflow at cell level. </p>
<dl class="section author"><dt>Author</dt><dd>Markus Fasel <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ku'+'s.f'+'as'+'el@'+'ce'+'rn.'+'ch'; return false;">marku<span class="obfuscator">.nosp@m.</span>s.fa<span class="obfuscator">.nosp@m.</span>sel@c<span class="obfuscator">.nosp@m.</span>ern.<span class="obfuscator">.nosp@m.</span>ch</a>, Oak Ridge National Laboratory </dd></dl>
<dl class="section since"><dt>Since</dt><dd>Sept 5, 2022</dd></dl>
<h1>Recalibration at cell level</h1>
<p>The workflow recalibrates a cell vector (with corresponding trigger records) for a given timeframe. The following calibrations are supported:</p><ul>
<li>Bad channel calibration</li>
<li>Time calibration</li>
<li>Gain (energy) calibration Calibration objects are handled automatically via the CCDB. Calibrations must be enabled manually and are only applied in case the calibration objects exists in the CCDB.</li>
</ul>
<p>While the energy and time calibration only change values within a cell the bad channel calibration decides whether a cell is accepted. Therefore the amount of cells can change for the given trigger. New trigger record objects are created and published to the same subspec as what is used for the output cell vector. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html#l00056">56</a> of file <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a0c5ea60524eb0c489e7512cea646c7f2" name="a0c5ea60524eb0c489e7512cea646c7f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c5ea60524eb0c489e7512cea646c7f2">&#9670;&#160;</a></span>LEDEventSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a0c5ea60524eb0c489e7512cea646c7f2">o2::emcal::CellRecalibratorSpec::LEDEventSettings</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dedicated handling for LED events. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0c5ea60524eb0c489e7512cea646c7f2a60cba2874369bd3790e14ea5f8a7bc58" name="a0c5ea60524eb0c489e7512cea646c7f2a60cba2874369bd3790e14ea5f8a7bc58"></a>KEEP&#160;</td><td class="fielddoc"><p>Keep LED events in timeframe (uncalibrated) </p>
</td></tr>
<tr><td class="fieldname"><a id="a0c5ea60524eb0c489e7512cea646c7f2abf8f3be424eb6a72b21549fbb24ffb57" name="a0c5ea60524eb0c489e7512cea646c7f2abf8f3be424eb6a72b21549fbb24ffb57"></a>DROP&#160;</td><td class="fielddoc"><p>Drop LED events. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0c5ea60524eb0c489e7512cea646c7f2a2890d54eabb244a83c4a3c85c0c60246" name="a0c5ea60524eb0c489e7512cea646c7f2a2890d54eabb244a83c4a3c85c0c60246"></a>REDIRECT&#160;</td><td class="fielddoc"><p>Redirect LED events to dedicated output. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html#l00061">61</a> of file <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a581e59fb27e05ecab81625b4ecd18819" name="a581e59fb27e05ecab81625b4ecd18819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a581e59fb27e05ecab81625b4ecd18819">&#9670;&#160;</a></span>CellRecalibratorSpec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CellRecalibratorSpec::CellRecalibratorSpec </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>outputspec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html#a0c5ea60524eb0c489e7512cea646c7f2">LEDEventSettings</a>&#160;</td>
          <td class="paramname"><em>ledsettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>badChannelCalib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>timeCalib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>gainCalib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isMC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d4/dea/classo2_1_1emcal_1_1CalibLoader.html">CalibLoader</a> &gt;&#160;</td>
          <td class="paramname">calibHandler&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputspec</td><td>Subspecification under which the output is posted </td></tr>
    <tr><td class="paramname">ledsettings</td><td>Handling of cells from LED events </td></tr>
    <tr><td class="paramname">badChannelCalib</td><td>If true the bad channel calibration is enabled </td></tr>
    <tr><td class="paramname">timeCalib</td><td>If true the time calibration is enabled </td></tr>
    <tr><td class="paramname">gainCalib</td><td>If true the gain calibration is enabled </td></tr>
    <tr><td class="paramname">isMC</td><td>If true the MCLabelContainer is adapted </td></tr>
    <tr><td class="paramname">calibHandler</td><td>Handler for calibration object loading </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html#l00026">26</a> of file <a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html">CellRecalibratorSpec.cxx</a>.</p>

</div>
</div>
<a id="a24385e1bc8339df2fb1354a9d2d46f01" name="a24385e1bc8339df2fb1354a9d2d46f01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24385e1bc8339df2fb1354a9d2d46f01">&#9670;&#160;</a></span>~CellRecalibratorSpec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">o2::emcal::CellRecalibratorSpec::~CellRecalibratorSpec </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4a7290de8d5894e8ffe2608efccc2bce" name="a4a7290de8d5894e8ffe2608efccc2bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a7290de8d5894e8ffe2608efccc2bce">&#9670;&#160;</a></span>finaliseCCDB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> CellRecalibratorSpec::finaliseCCDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d69/structo2_1_1framework_1_1ConcreteDataMatcher.html">framework::ConcreteDataMatcher</a> &amp;&#160;</td>
          <td class="paramname"><em>matcher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetching cell objects and assigning them to the internal handlers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matcher</td><td>Data type matcher of the CCDB object </td></tr>
    <tr><td class="paramname">obj</td><td>Pointer to CCDB object loaded</td></tr>
  </table>
  </dd>
</dl>
<p>Loading CCDB object into internal cache for the 3 supported CCDB entries (bad channel map, time calibration params, gain calibration params). Objects are only loaded in case the calibration type was enabled. </p>

<p>Reimplemented from <a class="el" href="../../de/dac/classo2_1_1framework_1_1Task.html#aa38b173abaccfb3b3d0acf77e02b4dc2">o2::framework::Task</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html#l00146">146</a> of file <a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html">CellRecalibratorSpec.cxx</a>.</p>

</div>
</div>
<a id="afa20812c089dedffc23d07328a78dfbe" name="afa20812c089dedffc23d07328a78dfbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa20812c089dedffc23d07328a78dfbe">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> CellRecalibratorSpec::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d07/classo2_1_1framework_1_1InitContext.html">framework::InitContext</a> &amp;&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize recalibrator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Init context </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../de/dac/classo2_1_1framework_1_1Task.html#ae2d5d0145b1cef9eda150e1c44a805a2">o2::framework::Task</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html#l00033">33</a> of file <a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html">CellRecalibratorSpec.cxx</a>.</p>

</div>
</div>
<a id="a586d4715e5868ea4a178946399c0fe64" name="a586d4715e5868ea4a178946399c0fe64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a586d4715e5868ea4a178946399c0fe64">&#9670;&#160;</a></span>isRunBadChannlCalibration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool o2::emcal::CellRecalibratorSpec::isRunBadChannlCalibration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the bad channel calibration is enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the bad channel calibration is enabled, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html#l00115">115</a> of file <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>.</p>

</div>
</div>
<a id="ac136c5762fbe7fceedfa2ba55cf91bb2" name="ac136c5762fbe7fceedfa2ba55cf91bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac136c5762fbe7fceedfa2ba55cf91bb2">&#9670;&#160;</a></span>isRunGainCalibration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool o2::emcal::CellRecalibratorSpec::isRunGainCalibration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the gain calibration is enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the gain calibration is enabled, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html#l00123">123</a> of file <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>.</p>

</div>
</div>
<a id="abcf81871514aedce4152f7197690bce0" name="abcf81871514aedce4152f7197690bce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf81871514aedce4152f7197690bce0">&#9670;&#160;</a></span>isRunTimeCalibration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool o2::emcal::CellRecalibratorSpec::isRunTimeCalibration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the time calibration is enabled. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the time calibration is enabled, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html#l00119">119</a> of file <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>.</p>

</div>
</div>
<a id="a60a1fb2a84f6a7348df1282c8c68b489" name="a60a1fb2a84f6a7348df1282c8c68b489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60a1fb2a84f6a7348df1282c8c68b489">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> CellRecalibratorSpec::run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/db7/classo2_1_1framework_1_1ProcessingContext.html">framework::ProcessingContext</a> &amp;&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run recalibration of cells for a new timeframe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Processing context</td></tr>
  </table>
  </dd>
</dl>
<p>Iterates over all triggers in the timeframe and recalibrates cells. Only calibrations which are enabled are applied. Calibrated cells and new trigger records are posted at the end of the timeframe to the subspecification requested in the constructor using standard types for cells and trigger records </p>

<p>Implements <a class="el" href="../../de/dac/classo2_1_1framework_1_1Task.html#ae3bd044282710286466b95c24f9d243c">o2::framework::Task</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html#l00057">57</a> of file <a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html">CellRecalibratorSpec.cxx</a>.</p>

</div>
</div>
<a id="a5238f94efcf383101aafd2fa0a91fc91" name="a5238f94efcf383101aafd2fa0a91fc91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5238f94efcf383101aafd2fa0a91fc91">&#9670;&#160;</a></span>setRunBadChannelCalibration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::CellRecalibratorSpec::setRunBadChannelCalibration </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>doRun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch for bad channel calibration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doRun</td><td>If true the bad channel calibration is applied </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html#l00103">103</a> of file <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>.</p>

</div>
</div>
<a id="a11ccf78dffca79b34b836d13da6d6db0" name="a11ccf78dffca79b34b836d13da6d6db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ccf78dffca79b34b836d13da6d6db0">&#9670;&#160;</a></span>setRunGainCalibration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::CellRecalibratorSpec::setRunGainCalibration </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>doRun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch for the gain calibration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doRun</td><td>If true the gain calibration is applied </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html#l00111">111</a> of file <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>.</p>

</div>
</div>
<a id="a18afa01f5086acdde85163d1a270e053" name="a18afa01f5086acdde85163d1a270e053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18afa01f5086acdde85163d1a270e053">&#9670;&#160;</a></span>setRunTimeCalibration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::emcal::CellRecalibratorSpec::setRunTimeCalibration </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>doRun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch for time calibration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">doRun</td><td>If true the time calibration is applied </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html#l00107">107</a> of file <a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/AliceO2/AliceO2/Detectors/EMCAL/workflow/include/EMCALWorkflow/<a class="el" href="../../d0/d31/CellRecalibratorSpec_8h_source.html">CellRecalibratorSpec.h</a></li>
<li>/home/runner/work/AliceO2/AliceO2/Detectors/EMCAL/workflow/src/<a class="el" href="../../df/d4b/CellRecalibratorSpec_8cxx_source.html">CellRecalibratorSpec.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d7c/namespaceo2.html">o2</a></li><li class="navelem"><a class="el" href="../../db/dc1/namespaceo2_1_1emcal.html">emcal</a></li><li class="navelem"><a class="el" href="../../d0/d1f/classo2_1_1emcal_1_1CellRecalibratorSpec.html">CellRecalibratorSpec</a></li>
    <li class="footer">Generated on Sat Feb 21 2026 17:59:19 for Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
