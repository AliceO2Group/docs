<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/runner/work/AliceO2/AliceO2/Framework/Core/test/test_Expressions.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/da5/test__Expressions_8cxx_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">test_Expressions.cxx</div></div>
</div><!--header-->
<div class="contents">
<a href="../../d0/da5/test__Expressions_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2019-2020 CERN and copyright holders of ALICE O2.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// See https://alice-o2.web.cern.ch/copyright for details of the copyright holders.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// All rights not expressly granted are reserved.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">//</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// This software is distributed under the terms of the GNU General Public</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">// License v3 (GPL Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">//</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">// or submit itself to any jurisdiction.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="../../d9/dff/Configurable_8h.html">Framework/Configurable.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d83/ExpressionHelpers_8h.html">Framework/ExpressionHelpers.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="../../d2/d8c/AnalysisDataModel_8h.html">Framework/AnalysisDataModel.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;catch_amalgamated.hpp&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;arrow/util/config.h&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../dd/d8d/namespaceo2_1_1framework.html">o2::framework</a>;</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html">o2::framework::expressions</a>;</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="foldopen" id="foldopen00022" data-start="{" data-end="}">
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno"><a class="line" href="../../d1/d51/namespacenodes.html">   22</a></span><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d1/d51/namespacenodes.html">nodes</a></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>{</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="keyword">static</span> <a class="code hl_struct" href="../../da/d69/structo2_1_1framework_1_1expressions_1_1BindingNode.html">BindingNode</a> pt{<span class="stringliteral">&quot;pt&quot;</span>, 1, atype::FLOAT};</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="keyword">static</span> <a class="code hl_struct" href="../../da/d69/structo2_1_1framework_1_1expressions_1_1BindingNode.html">BindingNode</a> phi{<span class="stringliteral">&quot;phi&quot;</span>, 2, atype::FLOAT};</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="keyword">static</span> <a class="code hl_struct" href="../../da/d69/structo2_1_1framework_1_1expressions_1_1BindingNode.html">BindingNode</a> eta{<span class="stringliteral">&quot;eta&quot;</span>, 3, atype::FLOAT};</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="keyword">static</span> <a class="code hl_struct" href="../../da/d69/structo2_1_1framework_1_1expressions_1_1BindingNode.html">BindingNode</a> tgl{<span class="stringliteral">&quot;tgl&quot;</span>, 4, atype::FLOAT};</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="keyword">static</span> <a class="code hl_struct" href="../../da/d69/structo2_1_1framework_1_1expressions_1_1BindingNode.html">BindingNode</a> signed1Pt{<span class="stringliteral">&quot;signed1Pt&quot;</span>, 5, atype::FLOAT};</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="keyword">static</span> <a class="code hl_struct" href="../../da/d69/structo2_1_1framework_1_1expressions_1_1BindingNode.html">BindingNode</a> testInt{<span class="stringliteral">&quot;testInt&quot;</span>, 6, atype::INT32};</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>} <span class="comment">// namespace nodes</span></div>
</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d6/dba/namespaceo2_1_1aod_1_1track.html">o2::aod::track</a></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>{</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="../../d6/dba/namespaceo2_1_1aod_1_1track.html#a4b51c4814e7c80462cdf223741729c1d">   35</a></span><a class="code hl_define" href="../../de/d33/ASoA_8h.html#a706db9bbbacda91bd10979f9c0b94ffe">DECLARE_SOA_EXPRESSION_COLUMN</a>(Pze, pz, <span class="keywordtype">float</span>, o2::aod::track::tgl * (1.f / o2::aod::track::signed1Pt));</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>} <span class="comment">// namespace o2::aod::track</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="foldopen" id="foldopen00038" data-start="{" data-end="}">
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="../../d0/da5/test__Expressions_8cxx.html#aa8e11a12d8e844e7afc93a4d07eaad3a">   38</a></span><a class="code hl_function" href="../../dd/d8d/namespaceo2_1_1framework.html#a3d520be6ca261fa37931cb55585fe125">TEST_CASE</a>(<span class="stringliteral">&quot;TestTreeParsing&quot;</span>)</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>{</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">expressions::Filter</a> <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a6a8efad2e332fcd916bde9e19ddef215">f</a> = ((nodes::phi &gt; 1) &amp;&amp; (nodes::phi &lt; 2)) &amp;&amp; (nodes::eta &lt; 1);</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>  <span class="keyword">auto</span> specs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a6a8efad2e332fcd916bde9e19ddef215">f</a>);</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>  REQUIRE(specs[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>  REQUIRE(specs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>  REQUIRE(specs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  REQUIRE(specs[1].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;eta&quot;</span>}, 3, atype::FLOAT}));</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  REQUIRE(specs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{1}, atype::INT32}));</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  REQUIRE(specs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  REQUIRE(specs[2].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{3u, atype::BOOL}));</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>  REQUIRE(specs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{4u, atype::BOOL}));</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  REQUIRE(specs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>  REQUIRE(specs[3].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;phi&quot;</span>}, 2, atype::FLOAT}));</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  REQUIRE(specs[3].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{2}, atype::INT32}));</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>  REQUIRE(specs[3].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{4u, atype::BOOL}));</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>  REQUIRE(specs[4].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;phi&quot;</span>}, 2, atype::FLOAT}));</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>  REQUIRE(specs[4].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{1}, atype::INT32}));</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>  REQUIRE(specs[4].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{3u, atype::BOOL}));</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">expressions::Filter</a> <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a> = ((nodes::eta + 2.f) &gt; 0.5) || ((nodes::phi - M_PI) &lt; 3);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>  <span class="keyword">auto</span> gspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>);</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>  REQUIRE(gspecs[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>  REQUIRE(gspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>  REQUIRE(gspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  REQUIRE(gspecs[1].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{3u, atype::DOUBLE}));</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  REQUIRE(gspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{3}, atype::INT32}));</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  REQUIRE(gspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>  REQUIRE(gspecs[2].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;phi&quot;</span>}, 2, atype::FLOAT}));</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  REQUIRE(gspecs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{M_PI}, atype::DOUBLE}));</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>  REQUIRE(gspecs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{3u, atype::DOUBLE}));</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>  REQUIRE(gspecs[3].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{4u, atype::FLOAT}));</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>  REQUIRE(gspecs[3].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{0.5}, atype::DOUBLE}));</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>  REQUIRE(gspecs[3].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>  REQUIRE(gspecs[4].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;eta&quot;</span>}, 3, atype::FLOAT}));</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>  REQUIRE(gspecs[4].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{2.f}, atype::FLOAT}));</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>  REQUIRE(gspecs[4].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{4u, atype::FLOAT}));</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">expressions::Filter</a> <a class="code hl_class" href="../../de/d59/classRawReaderEventSync_1_1h.html">h</a> = (nodes::phi == 0) || (nodes::phi == 3);</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>  <span class="keyword">auto</span> hspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(<a class="code hl_class" href="../../de/d59/classRawReaderEventSync_1_1h.html">h</a>);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>  REQUIRE(hspecs[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>  REQUIRE(hspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>  REQUIRE(hspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>  REQUIRE(hspecs[1].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;phi&quot;</span>}, 2, atype::FLOAT}));</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>  REQUIRE(hspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{3}, atype::INT32}));</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>  REQUIRE(hspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>  REQUIRE(hspecs[2].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;phi&quot;</span>}, 2, atype::FLOAT}));</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>  REQUIRE(hspecs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{0}, atype::INT32}));</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>  REQUIRE(hspecs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">expressions::Filter</a> u = nabs(nodes::eta) &lt; 1.0 &amp;&amp; nexp(nodes::phi + 2.0 * M_PI) &gt; 3.0;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>  <span class="keyword">auto</span> uspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(std::move(u));</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>  REQUIRE(uspecs[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>  REQUIRE(uspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>  REQUIRE(uspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>  REQUIRE(uspecs[1].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{3u, atype::DOUBLE}));</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>  REQUIRE(uspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{3.0}, atype::DOUBLE}));</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>  REQUIRE(uspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>  REQUIRE(uspecs[2].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{4u, atype::DOUBLE}));</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>  REQUIRE(uspecs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{}));</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  REQUIRE(uspecs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{3u, atype::DOUBLE}));</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  REQUIRE(uspecs[3].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;phi&quot;</span>}, 2, atype::FLOAT}));</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  REQUIRE(uspecs[3].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{2.0 * M_PI}, atype::DOUBLE}));</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  REQUIRE(uspecs[3].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{4u, atype::DOUBLE}));</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>  REQUIRE(uspecs[4].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{5u, atype::FLOAT}));</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  REQUIRE(uspecs[4].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{1.0}, atype::DOUBLE}));</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>  REQUIRE(uspecs[4].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  REQUIRE(uspecs[5].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;eta&quot;</span>}, 3, atype::FLOAT}));</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  REQUIRE(uspecs[5].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{}));</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  REQUIRE(uspecs[5].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{5u, atype::FLOAT}));</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>  <a class="code hl_struct" href="../../d8/d71/structo2_1_1framework_1_1Configurable.html">Configurable&lt;float&gt;</a> pTCut{<span class="stringliteral">&quot;pTCut&quot;</span>, 0.5f, <span class="stringliteral">&quot;Lower pT limit&quot;</span>};</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> ptfilter = o2::aod::track::pt &gt; pTCut;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  REQUIRE(ptfilter.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;self.index() == 2);</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>  REQUIRE(ptfilter.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;left-&gt;self.index() == 1);</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  REQUIRE(ptfilter.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;right-&gt;self.index() == 3);</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>  <span class="keyword">auto</span> ptfilterspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(ptfilter);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>  REQUIRE(ptfilterspecs[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fPt&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::pt&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  REQUIRE(ptfilterspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{0.5f}, atype::FLOAT}));</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>  REQUIRE(ptfilterspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>  struct : <a class="code hl_struct" href="../../d8/d72/structo2_1_1framework_1_1ConfigurableGroup.html">ConfigurableGroup</a> {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    std::string prefix = <span class="stringliteral">&quot;prefix&quot;</span>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <a class="code hl_struct" href="../../d8/d71/structo2_1_1framework_1_1Configurable.html">Configurable&lt;float&gt;</a> pTCut{<span class="stringliteral">&quot;pTCut&quot;</span>, 1.0f, <span class="stringliteral">&quot;Lower pT limit&quot;</span>};</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  } <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a907548ce3e5521fd5399f50e8df298bf">group</a>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> ptfilter2 = o2::aod::track::pt &gt; <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a907548ce3e5521fd5399f50e8df298bf">group</a>.pTCut;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a907548ce3e5521fd5399f50e8df298bf">group</a>.pTCut.name.insert(0, 1, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a907548ce3e5521fd5399f50e8df298bf">group</a>.pTCut.name.insert(0, <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a907548ce3e5521fd5399f50e8df298bf">group</a>.prefix);</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>  REQUIRE(ptfilter2.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;self.index() == 2);</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  REQUIRE(ptfilter2.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;left-&gt;self.index() == 1);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>  REQUIRE(ptfilter2.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;right-&gt;self.index() == 3);</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>  REQUIRE(std::get&lt;PlaceholderNode&gt;(ptfilter2.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;right-&gt;self).name == <span class="stringliteral">&quot;prefix.pTCut&quot;</span>);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>  <span class="keyword">auto</span> ptfilterspecs2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(ptfilter2);</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>  REQUIRE(ptfilterspecs2[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fPt&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::pt&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>  REQUIRE(ptfilterspecs2[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{1.0f}, atype::FLOAT}));</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>  REQUIRE(ptfilterspecs2[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <a class="code hl_struct" href="../../d8/d71/structo2_1_1framework_1_1Configurable.html">Configurable&lt;int&gt;</a> cvalue{<span class="stringliteral">&quot;cvalue&quot;</span>, 1, <span class="stringliteral">&quot;test value&quot;</span>};</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> testFilter = o2::aod::track::tpcNClsShared &lt; as&lt;uint8_t&gt;(cvalue);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  REQUIRE(testFilter.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;self.index() == 2);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  REQUIRE(testFilter.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;left-&gt;self.index() == 1);</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  REQUIRE(testFilter.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;right-&gt;self.index() == 3);</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  REQUIRE(std::get&lt;PlaceholderNode&gt;(testFilter.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;right-&gt;self).name == <span class="stringliteral">&quot;cvalue&quot;</span>);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <span class="keyword">auto</span> testSpecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(testFilter);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  REQUIRE(testSpecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{(uint8_t)1}, atype::UINT8}));</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>}</div>
</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="foldopen" id="foldopen00161" data-start="{" data-end="}">
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno"><a class="line" href="../../d0/da5/test__Expressions_8cxx.html#af8e4c6b1f76fd99f01a8560b340835f2">  161</a></span><a class="code hl_function" href="../../dd/d8d/namespaceo2_1_1framework.html#a3d520be6ca261fa37931cb55585fe125">TEST_CASE</a>(<span class="stringliteral">&quot;TestGandivaTreeCreation&quot;</span>)</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>{</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Projector</a> pze = o2::aod::track::Pze::Projector();</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>  <span class="keyword">auto</span> pzspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(pze);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>  REQUIRE(pzspecs[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fTgl&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::tgl&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>  REQUIRE(pzspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::FLOAT}));</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>  REQUIRE(pzspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::FLOAT}));</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  REQUIRE(pzspecs[1].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{1.f}, atype::FLOAT}));</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  REQUIRE(pzspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fSigned1Pt&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::signed1Pt&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>  REQUIRE(pzspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::FLOAT}));</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>  <span class="keyword">auto</span> infield1 = o2::aod::track::Signed1Pt::asArrowField();</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  <span class="keyword">auto</span> infield2 = o2::aod::track::Tgl::asArrowField();</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>  <span class="keyword">auto</span> resfield = o2::aod::track::Pze::asArrowField();</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  <span class="keyword">auto</span> schema = std::make_shared&lt;arrow::Schema&gt;(std::vector{infield1, infield2, resfield});</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>  <span class="keyword">auto</span> gandiva_tree = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(pzspecs, schema);</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>  <span class="keyword">auto</span> gandiva_expression = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a0e891e98f1a02bdf074efd88f080bab6">makeExpression</a>(gandiva_tree, resfield);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>  REQUIRE(std::string(gandiva_expression-&gt;ToString()) == std::string(<span class="stringliteral">&quot;float multiply((float) fTgl, float divide((const float) 1 raw(3f800000), (float) fSigned1Pt))&quot;</span>));</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>  <span class="keyword">auto</span> projector = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aeb75510a742c613ebcdd2f615304e1e5">createProjector</a>(schema, pzspecs, resfield);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Projector</a> pte = o2::aod::track::Pt::Projector();</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>  <span class="keyword">auto</span> ptespecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(pte);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>  <span class="keyword">auto</span> infield3 = o2::aod::track::Signed1Pt::asArrowField();</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>  <span class="keyword">auto</span> resfield2 = o2::aod::track::Pt::asArrowField();</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>  <span class="keyword">auto</span> schema2 = std::make_shared&lt;arrow::Schema&gt;(std::vector{infield3, resfield2});</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>  <span class="keyword">auto</span> gandiva_tree2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(ptespecs, schema2);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>  <span class="keyword">auto</span> gandiva_expression2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a0e891e98f1a02bdf074efd88f080bab6">makeExpression</a>(gandiva_tree2, resfield2);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>  REQUIRE(gandiva_expression2-&gt;ToString() == <span class="stringliteral">&quot;if (bool less_than_or_equal_to(float absf((float) fSigned1Pt), (const float) 1.17549e-38 raw(800000))) { (const float) 8.50706e+37 raw(7e800000) } else { float absf(float divide((const float) 1 raw(3f800000), (float) fSigned1Pt)) }&quot;</span>);</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>  <span class="keyword">auto</span> projector_b = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aeb75510a742c613ebcdd2f615304e1e5">createProjector</a>(schema2, ptespecs, resfield2);</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>  <span class="keyword">auto</span> fields = <a class="code hl_function" href="../../df/dcb/namespaceo2_1_1soa.html#a113567c5c9dca839517251718fcb2ca9">o2::soa::createFieldsFromColumns</a>(o2::aod::Tracks::persistent_columns_t{});</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>  <span class="keyword">auto</span> schema_p = std::make_shared&lt;arrow::Schema&gt;(fields);</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>  <span class="keyword">auto</span> projector_alt = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#af24f7ed67f9c39c0ceb6ce25075d116c">o2::framework::expressions::createProjectors</a>(<a class="code hl_struct" href="../../d6/d6e/structo2_1_1framework_1_1pack.html">o2::framework::pack&lt;o2::aod::track::Pt&gt;</a>{}, {resfield2}, schema_p);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> bitwiseFilter = (o2::aod::track::flags &amp; <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code hl_enumvalue" href="../../d6/dba/namespaceo2_1_1aod_1_1track.html#a6a1b75a66cb1ef27da647e0d7c320f21a9efa212a25a54cb9c2c1e74c72d18427">o2::aod::track::TPCrefit</a>)) != 0u;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>  <span class="keyword">auto</span> bwf = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(bitwiseFilter);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>  REQUIRE(bwf[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::UINT32}));</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>  REQUIRE(bwf[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{0u}, atype::UINT32}));</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>  REQUIRE(bwf[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>  REQUIRE(bwf[1].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fFlags&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::flags&quot;</span>_h, atype::UINT32}));</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>  REQUIRE(bwf[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code hl_enumvalue" href="../../d6/dba/namespaceo2_1_1aod_1_1track.html#a6a1b75a66cb1ef27da647e0d7c320f21a9efa212a25a54cb9c2c1e74c72d18427">o2::aod::track::TPCrefit</a>)}, atype::UINT32}));</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>  REQUIRE(bwf[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::UINT32}));</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>  <span class="keyword">auto</span> infield4 = o2::aod::track::Flags::asArrowField();</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>  <span class="keyword">auto</span> resfield3 = std::make_shared&lt;arrow::Field&gt;(<span class="stringliteral">&quot;out&quot;</span>, arrow::boolean());</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>  <span class="keyword">auto</span> schema_b = std::make_shared&lt;arrow::Schema&gt;(std::vector{infield4, resfield3});</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>  <span class="keyword">auto</span> gandiva_tree3 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(bwf, schema_b);</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>  REQUIRE(gandiva_tree3-&gt;ToString() == <span class="stringliteral">&quot;bool not_equal(uint32 bitwise_and((uint32) fFlags, (const uint32) 2), (const uint32) 0)&quot;</span>);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>  <span class="keyword">auto</span> condition = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a9a33bff63c03e83bee374bbcbcee7c4d">expressions::makeCondition</a>(gandiva_tree3);</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>  std::shared_ptr&lt;gandiva::Filter&gt; flt;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>  <span class="keyword">auto</span> s = gandiva::Filter::Make(schema_b, condition, &amp;flt);</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>  REQUIRE(s.ok());</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> rounding = nround(o2::aod::track::pt) &gt; 0.1f;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>  <span class="keyword">auto</span> rf = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(rounding);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>  REQUIRE(rf[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::FLOAT}));</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>  REQUIRE(rf[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{0.1f}, atype::FLOAT}));</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>  REQUIRE(rf[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>  REQUIRE(rf[1].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fPt&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::pt&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  REQUIRE(rf[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{}));</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  REQUIRE(rf[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::FLOAT}));</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>  <span class="keyword">auto</span> infield5 = o2::aod::track::Pt::asArrowField();</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  <span class="keyword">auto</span> resfield4 = std::make_shared&lt;arrow::Field&gt;(<span class="stringliteral">&quot;out&quot;</span>, arrow::boolean());</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>  <span class="keyword">auto</span> schema_c = std::make_shared&lt;arrow::Schema&gt;(std::vector{infield5, resfield4});</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>  <span class="keyword">auto</span> gandiva_tree4 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(rf, schema_c);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  REQUIRE(gandiva_tree4-&gt;ToString() == <span class="stringliteral">&quot;bool greater_than(float round((float) fPt), (const float) 0.1 raw(3dcccccd))&quot;</span>);</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  <span class="keyword">auto</span> condition2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a9a33bff63c03e83bee374bbcbcee7c4d">expressions::makeCondition</a>(gandiva_tree4);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>  std::shared_ptr&lt;gandiva::Filter&gt; flt2;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>  <span class="keyword">auto</span> s2 = gandiva::Filter::Make(schema_c, condition2, &amp;flt2);</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>  REQUIRE(s2.ok());</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>}</div>
</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="foldopen" id="foldopen00239" data-start="{" data-end="}">
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="../../d0/da5/test__Expressions_8cxx.html#ad7183a95a3129f9f201681b9f6d5d83e">  239</a></span><a class="code hl_function" href="../../dd/d8d/namespaceo2_1_1framework.html#a3d520be6ca261fa37931cb55585fe125">TEST_CASE</a>(<span class="stringliteral">&quot;TestConditionalExpressions&quot;</span>)</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>{</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>  <span class="comment">// simple conditional</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> cf = nabs(o2::aod::track::eta) &lt; 1.0f &amp;&amp; <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aa473a44ada224b3d794ed7e574445292">ifnode</a>((o2::aod::track::pt &lt; 1.0f), (o2::aod::track::phi &gt; (<span class="keywordtype">float</span>)(M_PI / 2.)), (o2::aod::track::phi &lt; (<span class="keywordtype">float</span>)(M_PI / 2.)));</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>  <span class="keyword">auto</span> cfspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(cf);</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>  REQUIRE(cfspecs[0].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>  REQUIRE(cfspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  REQUIRE(cfspecs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{0u, atype::BOOL}));</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  REQUIRE(cfspecs[1].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{3u, atype::BOOL}));</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  REQUIRE(cfspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{4u, atype::BOOL}));</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>  REQUIRE(cfspecs[1].condition == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{5u, atype::BOOL}));</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  REQUIRE(cfspecs[1].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{2u, atype::BOOL}));</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>  REQUIRE(cfspecs[2].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fPt&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::pt&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  REQUIRE(cfspecs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{1.0f}, atype::FLOAT}));</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>  REQUIRE(cfspecs[2].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{5u, atype::BOOL}));</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>  REQUIRE(cfspecs[3].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fPhi&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::phi&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>  REQUIRE(cfspecs[3].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{(float)(M_PI / 2.)}, atype::FLOAT}));</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  REQUIRE(cfspecs[3].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{4u, atype::BOOL}));</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>  REQUIRE(cfspecs[4].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fPhi&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::phi&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  REQUIRE(cfspecs[4].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{(float)(M_PI / 2.)}, atype::FLOAT}));</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  REQUIRE(cfspecs[4].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{3u, atype::BOOL}));</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>  REQUIRE(cfspecs[5].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{6u, atype::FLOAT}));</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>  REQUIRE(cfspecs[5].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{1.0f}, atype::FLOAT}));</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  REQUIRE(cfspecs[5].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{1u, atype::BOOL}));</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>  REQUIRE(cfspecs[6].<a class="code hl_class" href="../../d1/da0/classint.html">left</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{std::string{<span class="stringliteral">&quot;fEta&quot;</span>}, <span class="stringliteral">&quot;o2::aod::track::eta&quot;</span>_h, atype::FLOAT}));</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>  REQUIRE(cfspecs[6].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{}));</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  REQUIRE(cfspecs[6].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{6u, atype::FLOAT}));</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>  <span class="keyword">auto</span> infield1 = o2::aod::track::Pt::asArrowField();</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>  <span class="keyword">auto</span> infield2 = o2::aod::track::Eta::asArrowField();</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>  <span class="keyword">auto</span> infield3 = o2::aod::track::Phi::asArrowField();</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>  <span class="keyword">auto</span> schema = std::make_shared&lt;arrow::Schema&gt;(std::vector{infield1, infield2, infield3});</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>  <span class="keyword">auto</span> gandiva_tree = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(cfspecs, schema);</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>  <span class="keyword">auto</span> gandiva_condition = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a9a33bff63c03e83bee374bbcbcee7c4d">makeCondition</a>(gandiva_tree);</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>  <span class="keyword">auto</span> gandiva_filter = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a0586ea22bd0ec4fd87e108b8522c11ad">createFilter</a>(schema, gandiva_condition);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  REQUIRE(gandiva_tree-&gt;ToString() == <span class="stringliteral">&quot;bool less_than(float absf((float) fEta), (const float) 1 raw(3f800000)) &amp;&amp; if (bool less_than((float) fPt, (const float) 1 raw(3f800000))) { bool greater_than((float) fPhi, (const float) 1.5708 raw(3fc90fdb)) } else { bool less_than((float) fPhi, (const float) 1.5708 raw(3fc90fdb)) }&quot;</span>);</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span> </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>  <span class="comment">// nested conditional</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> cfn = o2::aod::track::signed1Pt &gt; 0.f &amp;&amp; <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aa473a44ada224b3d794ed7e574445292">ifnode</a>(std::move(*cf.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>), nabs(o2::aod::track::x) &gt; 1.0f, nabs(o2::aod::track::y) &gt; 1.0f);</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>  <span class="keyword">auto</span> cfnspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(cfn);</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  <span class="keyword">auto</span> infield4 = o2::aod::track::Signed1Pt::asArrowField();</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>  <span class="keyword">auto</span> infield5 = o2::aod::track::X::asArrowField();</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <span class="keyword">auto</span> infield6 = o2::aod::track::Y::asArrowField();</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>  <span class="keyword">auto</span> schema2 = std::make_shared&lt;arrow::Schema&gt;(std::vector{infield1, infield2, infield3, infield4, infield5, infield6});</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>  <span class="keyword">auto</span> gandiva_tree2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(cfnspecs, schema2);</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>  <span class="keyword">auto</span> gandiva_condition2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a9a33bff63c03e83bee374bbcbcee7c4d">makeCondition</a>(gandiva_tree2);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  <span class="keyword">auto</span> gandiva_filter2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a0586ea22bd0ec4fd87e108b8522c11ad">createFilter</a>(schema2, gandiva_condition2);</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>  REQUIRE(gandiva_tree2-&gt;ToString() == <span class="stringliteral">&quot;bool greater_than((float) fSigned1Pt, (const float) 0 raw(0)) &amp;&amp; if (bool less_than(float absf((float) fEta), (const float) 1 raw(3f800000)) &amp;&amp; if (bool less_than((float) fPt, (const float) 1 raw(3f800000))) { bool greater_than((float) fPhi, (const float) 1.5708 raw(3fc90fdb)) } else { bool less_than((float) fPhi, (const float) 1.5708 raw(3fc90fdb)) }) { bool greater_than(float absf((float) fX), (const float) 1 raw(3f800000)) } else { bool greater_than(float absf((float) fY), (const float) 1 raw(3f800000)) }&quot;</span>);</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>  <span class="comment">// clamp</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Projector</a> clp = <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#abd92661d757c8e8c0e50c1b9c3ce496e">clamp</a>(o2::aod::track::pt, 1.0f, 10.f);</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  <span class="keyword">auto</span> clpspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(clp);</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>  <span class="keyword">auto</span> schemaclp = std::make_shared&lt;arrow::Schema&gt;(std::vector{o2::aod::track::Pt::asArrowField()});</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  <span class="keyword">auto</span> gandiva_tree_clp = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(clpspecs, schemaclp);</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>  REQUIRE(gandiva_tree_clp-&gt;ToString() == <span class="stringliteral">&quot;if (bool less_than((float) fPt, (const float) 1 raw(3f800000))) { (const float) 1 raw(3f800000) } else { if (bool greater_than((float) fPt, (const float) 10 raw(41200000))) { (const float) 10 raw(41200000) } else { (float) fPt } }&quot;</span>);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>}</div>
</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="foldopen" id="foldopen00303" data-start="{" data-end="}">
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno"><a class="line" href="../../d0/da5/test__Expressions_8cxx.html#a840745f6e029098365b2c07e5df5e03a">  303</a></span><a class="code hl_function" href="../../dd/d8d/namespaceo2_1_1framework.html#a3d520be6ca261fa37931cb55585fe125">TEST_CASE</a>(<span class="stringliteral">&quot;TestBinnedExpressions&quot;</span>)</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>{</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>  std::vector&lt;float&gt; <a class="code hl_variable" href="../../d2/d14/Detectors_2TPC_2qc_2src_2PID_8cxx.html#a86c73ab6f37eae94aef9f27a7e9e2fc0">bins</a>{0.5, 1.5, 2.5, 3.5, 4.5};</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>  std::vector&lt;float&gt; <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a7eca977aec48ecd8d48ebd7558c0538c">params</a>{1.0, 1.1, 1.2, 1.3, 2.0, 2.1, 2.2, 2.3, 3.0, 3.1, 3.2, 3.3, 4.0, 4.1, 4.2, 4.3};</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Projector</a> p = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#ab588f34031783b476d1c1b55b2996959">binned</a>(<a class="code hl_variable" href="../../d2/d14/Detectors_2TPC_2qc_2src_2PID_8cxx.html#a86c73ab6f37eae94aef9f27a7e9e2fc0">bins</a>, <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a7eca977aec48ecd8d48ebd7558c0538c">params</a>, o2::aod::track::pt, <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a77e24449a054c50d9864c18b399f884b">par</a>(0) * o2::aod::track::x + <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a77e24449a054c50d9864c18b399f884b">par</a>(1) * o2::aod::track::y + <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a77e24449a054c50d9864c18b399f884b">par</a>(2) * o2::aod::track::z + <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a77e24449a054c50d9864c18b399f884b">par</a>(3) * o2::aod::track::phi, <a class="code hl_struct" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html">LiteralNode</a>{0.f});</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>  <span class="keyword">auto</span> pspecs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(p);</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>  <span class="keyword">auto</span> schema = std::make_shared&lt;arrow::Schema&gt;(std::vector{o2::aod::track::Pt::asArrowField(), o2::aod::track::X::asArrowField(), o2::aod::track::Y::asArrowField(), o2::aod::track::Z::asArrowField(), o2::aod::track::Phi::asArrowField()});</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>  <span class="keyword">auto</span> <a class="code hl_function" href="../../dc/da7/test__ctf__io__cpv_8cxx.html#af35588954eba20a68d7784c5900333d6">tree</a> = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(pspecs, schema);</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  REQUIRE(<a class="code hl_function" href="../../dc/da7/test__ctf__io__cpv_8cxx.html#af35588954eba20a68d7784c5900333d6">tree</a>-&gt;ToString() == <span class="stringliteral">&quot;if (bool less_than((float) fPt, (const float) 0.5 raw(3f000000))) { (const float) 0 raw(0) } else { if (bool less_than((float) fPt, (const float) 1.5 raw(3fc00000))) { float add(float add(float add(float multiply((const float) 1 raw(3f800000), (float) fX), float multiply((const float) 2 raw(40000000), (float) fY)), float multiply((const float) 3 raw(40400000), (float) fZ)), float multiply((const float) 4 raw(40800000), (float) fPhi)) } else { if (bool less_than((float) fPt, (const float) 2.5 raw(40200000))) { float add(float add(float add(float multiply((const float) 1.1 raw(3f8ccccd), (float) fX), float multiply((const float) 2.1 raw(40066666), (float) fY)), float multiply((const float) 3.1 raw(40466666), (float) fZ)), float multiply((const float) 4.1 raw(40833333), (float) fPhi)) } else { if (bool less_than((float) fPt, (const float) 3.5 raw(40600000))) { float add(float add(float add(float multiply((const float) 1.2 raw(3f99999a), (float) fX), float multiply((const float) 2.2 raw(400ccccd), (float) fY)), float multiply((const float) 3.2 raw(404ccccd), (float) fZ)), float multiply((const float) 4.2 raw(40866666), (float) fPhi)) } else { if (bool less_than((float) fPt, (const float) 4.5 raw(40900000))) { float add(float add(float add(float multiply((const float) 1.3 raw(3fa66666), (float) fX), float multiply((const float) 2.3 raw(40133333), (float) fY)), float multiply((const float) 3.3 raw(40533333), (float) fZ)), float multiply((const float) 4.3 raw(4089999a), (float) fPhi)) } else { (const float) 0 raw(0) } } } } }&quot;</span>);</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>  std::vector&lt;float&gt; <a class="code hl_struct" href="../../db/dd6/structbinning.html">binning</a>{0, <a class="code hl_variable" href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#aaa132898621392ddf89863d8e90ec849">o2::constants::math::PIHalf</a>, <a class="code hl_variable" href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#a5886d6efa1539b777f8a65eeeb040119">o2::constants::math::PI</a>, <a class="code hl_variable" href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#a5886d6efa1539b777f8a65eeeb040119">o2::constants::math::PI</a> + <a class="code hl_variable" href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#aaa132898621392ddf89863d8e90ec849">o2::constants::math::PIHalf</a>, <a class="code hl_variable" href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#a41e4458e1322f0e416fae765f634e812">o2::constants::math::TwoPI</a>};</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  std::vector&lt;float&gt; parameters{1.0, 1.1, 1.2, 1.3,  <span class="comment">// par 0</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                                2.0, 2.1, 2.2, 2.3,  <span class="comment">// par 1</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                                3.0, 3.1, 3.2, 3.3,  <span class="comment">// par 2</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                                4.0, 4.1, 4.2, 4.3}; <span class="comment">// par 3</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Projector</a> <a class="code hl_function" href="../../db/d78/HmpidCoder2_8cxx.html#a3b8db936726e102a877a4c2375c580a3">p2</a> = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#ab588f34031783b476d1c1b55b2996959">binned</a>((std::vector&lt;float&gt;)<a class="code hl_struct" href="../../db/dd6/structbinning.html">binning</a>,</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                        (std::vector&lt;float&gt;)parameters,</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                        o2::aod::track::phi, <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a77e24449a054c50d9864c18b399f884b">par</a>(0) * o2::aod::track::x * o2::aod::track::x + <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a77e24449a054c50d9864c18b399f884b">par</a>(1) * o2::aod::track::y * o2::aod::track::y + <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a77e24449a054c50d9864c18b399f884b">par</a>(2) * o2::aod::track::z * o2::aod::track::z,</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                        <a class="code hl_struct" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html">LiteralNode</a>{-1.f});</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>  <span class="keyword">auto</span> p2specs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(<a class="code hl_function" href="../../db/d78/HmpidCoder2_8cxx.html#a3b8db936726e102a877a4c2375c580a3">p2</a>);</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  <span class="keyword">auto</span> schema2 = std::make_shared&lt;arrow::Schema&gt;(std::vector{o2::aod::track::Phi::asArrowField(), o2::aod::track::X::asArrowField(), o2::aod::track::Y::asArrowField(), o2::aod::track::Z::asArrowField()});</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>  <span class="keyword">auto</span> tree2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(p2specs, schema2);</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>  REQUIRE(tree2-&gt;ToString() == <span class="stringliteral">&quot;if (bool less_than((float) fPhi, (const float) 0 raw(0))) { (const float) -1 raw(bf800000) } else { if (bool less_than((float) fPhi, (const float) 1.5708 raw(3fc90fdb))) { float add(float add(float multiply(float multiply((const float) 1 raw(3f800000), (float) fX), (float) fX), float multiply(float multiply((const float) 2 raw(40000000), (float) fY), (float) fY)), float multiply(float multiply((const float) 3 raw(40400000), (float) fZ), (float) fZ)) } else { if (bool less_than((float) fPhi, (const float) 3.14159 raw(40490fdb))) { float add(float add(float multiply(float multiply((const float) 1.1 raw(3f8ccccd), (float) fX), (float) fX), float multiply(float multiply((const float) 2.1 raw(40066666), (float) fY), (float) fY)), float multiply(float multiply((const float) 3.1 raw(40466666), (float) fZ), (float) fZ)) } else { if (bool less_than((float) fPhi, (const float) 4.71239 raw(4096cbe4))) { float add(float add(float multiply(float multiply((const float) 1.2 raw(3f99999a), (float) fX), (float) fX), float multiply(float multiply((const float) 2.2 raw(400ccccd), (float) fY), (float) fY)), float multiply(float multiply((const float) 3.2 raw(404ccccd), (float) fZ), (float) fZ)) } else { if (bool less_than((float) fPhi, (const float) 6.28319 raw(40c90fdb))) { float add(float add(float multiply(float multiply((const float) 1.3 raw(3fa66666), (float) fX), (float) fX), float multiply(float multiply((const float) 2.3 raw(40133333), (float) fY), (float) fY)), float multiply(float multiply((const float) 3.3 raw(40533333), (float) fZ), (float) fZ)) } else { (const float) -1 raw(bf800000) } } } } }&quot;</span>);</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>}</div>
</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="foldopen" id="foldopen00329" data-start="{" data-end="}">
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="../../d0/da5/test__Expressions_8cxx.html#af086058a09be5f6a331a8ec4e9f0e9f0">  329</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/da5/test__Expressions_8cxx.html#af086058a09be5f6a331a8ec4e9f0e9f0">printTokens</a>(<a class="code hl_struct" href="../../d7/d76/structo2_1_1framework_1_1expressions_1_1Tokenizer.html">Tokenizer</a>&amp; t)</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>{</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>  <span class="keywordtype">int</span> token;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>  <span class="keywordflow">while</span> ((token = t.<a class="code hl_function" href="../../d7/d76/structo2_1_1framework_1_1expressions_1_1Tokenizer.html#a859d6fba7d9f013edb91e047bb1bf028">nextToken</a>()) &amp;&amp; (token != Token::EoL)) {</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    std::cout &lt;&lt; t.<a class="code hl_variable" href="../../d7/d76/structo2_1_1framework_1_1expressions_1_1Tokenizer.html#a3598a7e79277bb1ee268df6fbe3d5050">TokenStr</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>  };</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>  std::cout &lt;&lt; std::endl;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>}</div>
</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="foldopen" id="foldopen00338" data-start="{" data-end="}">
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="../../d0/da5/test__Expressions_8cxx.html#a633ab38b2a97b41b128b1ef8934d3c52">  338</a></span><a class="code hl_function" href="../../dd/d8d/namespaceo2_1_1framework.html#a3d520be6ca261fa37931cb55585fe125">TEST_CASE</a>(<span class="stringliteral">&quot;TestStringExpressionsParsing&quot;</span>)</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>{</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a6a8efad2e332fcd916bde9e19ddef215">f</a> = (o2::aod::track::flags &amp; 1u) != 0u &amp;&amp; (o2::aod::track::pt &lt;= 10.f);</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>  std::string input = <span class="stringliteral">&quot;(o2::aod::track::flags &amp; 1u) != 0u &amp;&amp; (o2::aod::track::pt &lt;= 10.f)&quot;</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <span class="keyword">auto</span> <a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#af48031a37b713afa3b0d0d7d29653d7c">t1</a> = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a6a8efad2e332fcd916bde9e19ddef215">f</a>);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> ff = <a class="code hl_function" href="../../d6/d0a/structo2_1_1framework_1_1expressions_1_1Parser.html#ae3181befec4a1259ee79cb1e155ff3c0">Parser::parse</a>(input);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>  <span class="keyword">auto</span> t2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(ff);</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  <span class="keyword">auto</span> schema = std::make_shared&lt;arrow::Schema&gt;(std::vector{o2::aod::track::Flags::asArrowField(), o2::aod::track::Pt::asArrowField()});</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>  <span class="keyword">auto</span> tree1 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#af48031a37b713afa3b0d0d7d29653d7c">t1</a>, schema);</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>  <span class="keyword">auto</span> tree2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(t2, schema);</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  REQUIRE(tree1-&gt;ToString() == tree2-&gt;ToString());</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Projector</a> p = -1.f * nlog(ntan(<a class="code hl_variable" href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#a72d48c3f8033ae640dc6ff74f79482c7">o2::constants::math::PIQuarter</a> - 0.5f * natan(o2::aod::fwdtrack::tgl)));</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>  input = <span class="stringliteral">&quot;-1.f * nlog(ntan(PIQuarter - 0.5f * natan(o2::aod::fwdtrack::tgl)))&quot;</span>;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>  <span class="keyword">auto</span> tp1 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(p);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Projector</a> pp = <a class="code hl_function" href="../../d6/d0a/structo2_1_1framework_1_1expressions_1_1Parser.html#ae3181befec4a1259ee79cb1e155ff3c0">Parser::parse</a>(input);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>  <span class="keyword">auto</span> tp2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(pp);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>  schema = std::make_shared&lt;arrow::Schema&gt;(std::vector{o2::aod::fwdtrack::Tgl::asArrowField()});</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>  <span class="keyword">auto</span> treep1 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(tp1, schema);</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>  <span class="keyword">auto</span> treep2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(tp2, schema);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>  REQUIRE(treep1-&gt;ToString() == treep2-&gt;ToString());</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> f2 = o2::aod::track::signed1Pt &gt; 0.f &amp;&amp; <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aa473a44ada224b3d794ed7e574445292">ifnode</a>(nabs(o2::aod::track::eta) &lt; 1.0f, nabs(o2::aod::track::x) &gt; 2.0f, nabs(o2::aod::track::y) &gt; 3.0f);</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>  input = <span class="stringliteral">&quot;o2::aod::track::signed1Pt &gt; 0.f &amp;&amp; ifnode(nabs(o2::aod::track::eta) &lt; 1.0f, nabs(o2::aod::track::x) &gt; 2.0f, nabs(o2::aod::track::y) &gt; 3.0f)&quot;</span>;</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>  <span class="keyword">auto</span> tf1 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(f2);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> ff2 = <a class="code hl_function" href="../../d6/d0a/structo2_1_1framework_1_1expressions_1_1Parser.html#ae3181befec4a1259ee79cb1e155ff3c0">Parser::parse</a>(input);</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>  <span class="keyword">auto</span> tf2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(ff2);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>  schema = std::make_shared&lt;arrow::Schema&gt;(std::vector{o2::aod::track::Eta::asArrowField(), o2::aod::track::Signed1Pt::asArrowField(), o2::aod::track::X::asArrowField(), o2::aod::track::Y::asArrowField()});</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  <span class="keyword">auto</span> treef1 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(tf1, schema);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>  <span class="keyword">auto</span> treef2 = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(tf2, schema);</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span> </div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>  REQUIRE(treef1-&gt;ToString() == treef2-&gt;ToString());</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>  <a class="code hl_struct" href="../../d8/d71/structo2_1_1framework_1_1Configurable.html">Configurable&lt;float&gt;</a> pTCut{<span class="stringliteral">&quot;pTCut&quot;</span>, 0.5f, <span class="stringliteral">&quot;Lower pT limit&quot;</span>};</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> pcfg1 = o2::aod::track::pt &gt; pTCut;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  <a class="code hl_struct" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">Filter</a> pcfg2 = <a class="code hl_function" href="../../d6/d0a/structo2_1_1framework_1_1expressions_1_1Parser.html#ae3181befec4a1259ee79cb1e155ff3c0">Parser::parse</a>(<span class="stringliteral">&quot;o2::aod::track::pt &gt; ncfg(float, 0.5, \&quot;pTCut\&quot;)&quot;</span>);</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  <span class="keyword">auto</span> pcfg1specs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(pcfg1);</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>  <span class="keyword">auto</span> pcfg2specs = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">createOperations</a>(pcfg2);</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>  REQUIRE(pcfg2.<a class="code hl_variable" href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">node</a>-&gt;right-&gt;self.index() == 3);</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  REQUIRE(pcfg2specs[0].<a class="code hl_typedef" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a> == (<a class="code hl_struct" href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">DatumSpec</a>{<a class="code hl_typedef" href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">LiteralNode::var_t</a>{0.5f}, atype::FLOAT}));</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>  schema = std::make_shared&lt;arrow::Schema&gt;(std::vector{o2::aod::track::Pt::asArrowField()});</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>  <span class="keyword">auto</span> tree1c = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(pcfg1specs, schema);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>  <span class="keyword">auto</span> tree2c = <a class="code hl_function" href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">createExpressionTree</a>(pcfg2specs, schema);</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>  REQUIRE(tree1c-&gt;ToString() == tree2c-&gt;ToString());</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>}</div>
</div>
<div class="ttc" id="aASoA_8h_html_a706db9bbbacda91bd10979f9c0b94ffe"><div class="ttname"><a href="../../de/d33/ASoA_8h.html#a706db9bbbacda91bd10979f9c0b94ffe">DECLARE_SOA_EXPRESSION_COLUMN</a></div><div class="ttdeci">#define DECLARE_SOA_EXPRESSION_COLUMN(_Name_, _Getter_, _Type_, _Expression_)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d33/ASoA_8h_source.html#l02469">ASoA.h:2469</a></div></div>
<div class="ttc" id="aAnalysisDataModel_8h_html"><div class="ttname"><a href="../../d2/d8c/AnalysisDataModel_8h.html">AnalysisDataModel.h</a></div></div>
<div class="ttc" id="aConfigurable_8h_html"><div class="ttname"><a href="../../d9/dff/Configurable_8h.html">Configurable.h</a></div></div>
<div class="ttc" id="aDetectors_2TPC_2qc_2src_2PID_8cxx_html_a86c73ab6f37eae94aef9f27a7e9e2fc0"><div class="ttname"><a href="../../d2/d14/Detectors_2TPC_2qc_2src_2PID_8cxx.html#a86c73ab6f37eae94aef9f27a7e9e2fc0">bins</a></div><div class="ttdeci">const auto bins</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d14/Detectors_2TPC_2qc_2src_2PID_8cxx_source.html#l00049">PID.cxx:49</a></div></div>
<div class="ttc" id="aExpressionHelpers_8h_html"><div class="ttname"><a href="../../d1/d83/ExpressionHelpers_8h.html">ExpressionHelpers.h</a></div></div>
<div class="ttc" id="aHmpidCoder2_8cxx_html_a3b8db936726e102a877a4c2375c580a3"><div class="ttname"><a href="../../db/d78/HmpidCoder2_8cxx.html#a3b8db936726e102a877a4c2375c580a3">p2</a></div><div class="ttdeci">constexpr int p2()</div><div class="ttdef"><b>Definition</b> <a href="../../db/d78/HmpidCoder2_8cxx_source.html#l00090">HmpidCoder2.cxx:90</a></div></div>
<div class="ttc" id="aclassRawReaderEventSync_1_1h_html"><div class="ttname"><a href="../../de/d59/classRawReaderEventSync_1_1h.html">h</a></div><div class="ttdoc">Class for time synchronization of RawReader instances.</div></div>
<div class="ttc" id="aclassint_html"><div class="ttname"><a href="../../d1/da0/classint.html">int</a></div></div>
<div class="ttc" id="aglcorearb_8h_html_a321ff419cd5252e54cf95e64dc6687ee"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a></div><div class="ttdeci">GLuint64EXT * result</div><div class="ttdef"><b>Definition</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05662">glcorearb.h:5662</a></div></div>
<div class="ttc" id="aglcorearb_8h_html_a5ffadbbacc6b89cf6218bc43b384d3fe"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a></div><div class="ttdeci">GLdouble GLdouble right</div><div class="ttdef"><b>Definition</b> <a href="../../dc/da3/glcorearb_8h_source.html#l04077">glcorearb.h:4077</a></div></div>
<div class="ttc" id="aglcorearb_8h_html_a6a8efad2e332fcd916bde9e19ddef215"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a6a8efad2e332fcd916bde9e19ddef215">f</a></div><div class="ttdeci">GLdouble f</div><div class="ttdef"><b>Definition</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00310">glcorearb.h:310</a></div></div>
<div class="ttc" id="aglcorearb_8h_html_a7eca977aec48ecd8d48ebd7558c0538c"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a7eca977aec48ecd8d48ebd7558c0538c">params</a></div><div class="ttdeci">GLenum const GLfloat * params</div><div class="ttdef"><b>Definition</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00272">glcorearb.h:272</a></div></div>
<div class="ttc" id="aglcorearb_8h_html_a907548ce3e5521fd5399f50e8df298bf"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a907548ce3e5521fd5399f50e8df298bf">group</a></div><div class="ttdeci">GLboolean GLuint group</div><div class="ttdef"><b>Definition</b> <a href="../../dc/da3/glcorearb_8h_source.html#l03991">glcorearb.h:3991</a></div></div>
<div class="ttc" id="aglcorearb_8h_html_a9cd653b1648845554169fbc3a3f6d37a"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a></div><div class="ttdeci">GLboolean GLboolean g</div><div class="ttdef"><b>Definition</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01233">glcorearb.h:1233</a></div></div>
<div class="ttc" id="aglcorearb_8h_html_abd92661d757c8e8c0e50c1b9c3ce496e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#abd92661d757c8e8c0e50c1b9c3ce496e">clamp</a></div><div class="ttdeci">GLenum clamp</div><div class="ttdef"><b>Definition</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01245">glcorearb.h:1245</a></div></div>
<div class="ttc" id="aglcorearb_8h_html_af48031a37b713afa3b0d0d7d29653d7c"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#af48031a37b713afa3b0d0d7d29653d7c">t1</a></div><div class="ttdeci">GLuint GLfloat GLfloat GLfloat GLfloat GLfloat GLfloat GLfloat GLfloat GLfloat t1</div><div class="ttdef"><b>Definition</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05034">glcorearb.h:5034</a></div></div>
<div class="ttc" id="anamespacenodes_html"><div class="ttname"><a href="../../d1/d51/namespacenodes.html">nodes</a></div><div class="ttdef"><b>Definition</b> <a href="../../d0/da5/test__Expressions_8cxx_source.html#l00022">test_Expressions.cxx:23</a></div></div>
<div class="ttc" id="anamespaceo2_1_1aod_1_1track_html"><div class="ttname"><a href="../../d6/dba/namespaceo2_1_1aod_1_1track.html">o2::aod::track</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/d8c/AnalysisDataModel_8h_source.html#l00114">AnalysisDataModel.h:115</a></div></div>
<div class="ttc" id="anamespaceo2_1_1aod_1_1track_html_a6a1b75a66cb1ef27da647e0d7c320f21a9efa212a25a54cb9c2c1e74c72d18427"><div class="ttname"><a href="../../d6/dba/namespaceo2_1_1aod_1_1track.html#a6a1b75a66cb1ef27da647e0d7c320f21a9efa212a25a54cb9c2c1e74c72d18427">o2::aod::track::TPCrefit</a></div><div class="ttdeci">@ TPCrefit</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d12/DataTypes_8h_source.html#l00059">DataTypes.h:59</a></div></div>
<div class="ttc" id="anamespaceo2_1_1constants_1_1math_html_a41e4458e1322f0e416fae765f634e812"><div class="ttname"><a href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#a41e4458e1322f0e416fae765f634e812">o2::constants::math::TwoPI</a></div><div class="ttdeci">constexpr float TwoPI</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d84/MathConstants_8h_source.html#l00031">MathConstants.h:31</a></div></div>
<div class="ttc" id="anamespaceo2_1_1constants_1_1math_html_a5886d6efa1539b777f8a65eeeb040119"><div class="ttname"><a href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#a5886d6efa1539b777f8a65eeeb040119">o2::constants::math::PI</a></div><div class="ttdeci">constexpr float PI</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d84/MathConstants_8h_source.html#l00030">MathConstants.h:30</a></div></div>
<div class="ttc" id="anamespaceo2_1_1constants_1_1math_html_a72d48c3f8033ae640dc6ff74f79482c7"><div class="ttname"><a href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#a72d48c3f8033ae640dc6ff74f79482c7">o2::constants::math::PIQuarter</a></div><div class="ttdeci">constexpr float PIQuarter</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d84/MathConstants_8h_source.html#l00034">MathConstants.h:34</a></div></div>
<div class="ttc" id="anamespaceo2_1_1constants_1_1math_html_aaa132898621392ddf89863d8e90ec849"><div class="ttname"><a href="../../d2/d3a/namespaceo2_1_1constants_1_1math.html#aaa132898621392ddf89863d8e90ec849">o2::constants::math::PIHalf</a></div><div class="ttdeci">constexpr float PIHalf</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d84/MathConstants_8h_source.html#l00032">MathConstants.h:32</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html">o2::framework::expressions</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/dff/Configurable_8h_source.html#l00019">Configurable.h:20</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_a0586ea22bd0ec4fd87e108b8522c11ad"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a0586ea22bd0ec4fd87e108b8522c11ad">o2::framework::expressions::createFilter</a></div><div class="ttdeci">std::shared_ptr&lt; gandiva::Filter &gt; createFilter(gandiva::SchemaPtr const &amp;Schema, gandiva::ConditionPtr condition)</div><div class="ttdoc">Function to create gandiva filter from gandiva condition.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d8b/Expressions_8cxx_source.html#l00519">Expressions.cxx:519</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_a0e891e98f1a02bdf074efd88f080bab6"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a0e891e98f1a02bdf074efd88f080bab6">o2::framework::expressions::makeExpression</a></div><div class="ttdeci">gandiva::ExpressionPtr makeExpression(gandiva::NodePtr node, gandiva::FieldPtr result)</div><div class="ttdoc">Function to create gandiva projecting expression from generic gandiva expression tree.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d8b/Expressions_8cxx_source.html#l00500">Expressions.cxx:500</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_a77e24449a054c50d9864c18b399f884b"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a77e24449a054c50d9864c18b399f884b">o2::framework::expressions::par</a></div><div class="ttdeci">Node par(int index)</div><div class="ttdoc">Parameters.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00559">Expressions.h:559</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_a7c072cec17c6a21c11b9bce883ae0de3"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a7c072cec17c6a21c11b9bce883ae0de3">o2::framework::expressions::createOperations</a></div><div class="ttdeci">Operations createOperations(Filter const &amp;expression)</div><div class="ttdoc">Function to create an internal operation sequence from a filter tree.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d8b/Expressions_8cxx_source.html#l00313">Expressions.cxx:313</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_a9a33bff63c03e83bee374bbcbcee7c4d"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#a9a33bff63c03e83bee374bbcbcee7c4d">o2::framework::expressions::makeCondition</a></div><div class="ttdeci">gandiva::ConditionPtr makeCondition(gandiva::NodePtr node)</div><div class="ttdoc">Function to create gandiva condition expression from generic gandiva expression tree.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d8b/Expressions_8cxx_source.html#l00495">Expressions.cxx:495</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_aa473a44ada224b3d794ed7e574445292"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aa473a44ada224b3d794ed7e574445292">o2::framework::expressions::ifnode</a></div><div class="ttdeci">Node ifnode(Node &amp;&amp;condition_, Node &amp;&amp;then_, Node &amp;&amp;else_)</div><div class="ttdoc">conditionals</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00511">Expressions.h:511</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_aab06a4d896f0ebf1e6498fbe7fec8d68"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aab06a4d896f0ebf1e6498fbe7fec8d68">o2::framework::expressions::createExpressionTree</a></div><div class="ttdeci">gandiva::NodePtr createExpressionTree(Operations const &amp;opSpecs, gandiva::SchemaPtr const &amp;Schema)</div><div class="ttdoc">Function to create gandiva expression tree from operation sequence.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d8b/Expressions_8cxx_source.html#l00634">Expressions.cxx:634</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_ab588f34031783b476d1c1b55b2996959"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#ab588f34031783b476d1c1b55b2996959">o2::framework::expressions::binned</a></div><div class="ttdeci">Node binned(std::vector&lt; T &gt; const &amp;binning, std::vector&lt; T &gt; const &amp;parameters, Node &amp;&amp;binned, Node &amp;&amp;pexp, Node &amp;&amp;out)</div><div class="ttdoc">binned functional</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00566">Expressions.h:566</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_aeb75510a742c613ebcdd2f615304e1e5"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#aeb75510a742c613ebcdd2f615304e1e5">o2::framework::expressions::createProjector</a></div><div class="ttdeci">std::shared_ptr&lt; gandiva::Projector &gt; createProjector(gandiva::SchemaPtr const &amp;Schema, Operations const &amp;opSpecs, gandiva::FieldPtr result)</div><div class="ttdoc">Function to create gandiva projector from operation sequence.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d8b/Expressions_8cxx_source.html#l00532">Expressions.cxx:532</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_1_1expressions_html_af24f7ed67f9c39c0ceb6ce25075d116c"><div class="ttname"><a href="../../d9/d4b/namespaceo2_1_1framework_1_1expressions.html#af24f7ed67f9c39c0ceb6ce25075d116c">o2::framework::expressions::createProjectors</a></div><div class="ttdeci">std::shared_ptr&lt; gandiva::Projector &gt; createProjectors(framework::pack&lt; C... &gt;, std::vector&lt; std::shared_ptr&lt; arrow::Field &gt; &gt; const &amp;fields, gandiva::SchemaPtr schema)</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00704">Expressions.h:704</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_html"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html">o2::framework</a></div><div class="ttdoc">Defining PrimaryVertex explicitly as messageable.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d23/TFIDInfo_8h_source.html#l00019">TFIDInfo.h:20</a></div></div>
<div class="ttc" id="anamespaceo2_1_1framework_html_a3d520be6ca261fa37931cb55585fe125"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html#a3d520be6ca261fa37931cb55585fe125">o2::framework::TEST_CASE</a></div><div class="ttdeci">TEST_CASE(&quot;test_prepareArguments&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/de8/test__DeviceSpecHelpers_8cxx_source.html#l00102">test_DeviceSpecHelpers.cxx:102</a></div></div>
<div class="ttc" id="anamespaceo2_1_1soa_html_a113567c5c9dca839517251718fcb2ca9"><div class="ttname"><a href="../../df/dcb/namespaceo2_1_1soa.html#a113567c5c9dca839517251718fcb2ca9">o2::soa::createFieldsFromColumns</a></div><div class="ttdeci">auto createFieldsFromColumns(framework::pack&lt; C... &gt;)</div><div class="ttdef"><b>Definition</b> <a href="../../de/d33/ASoA_8h_source.html#l00410">ASoA.h:410</a></div></div>
<div class="ttc" id="astructbinning_html"><div class="ttname"><a href="../../db/dd6/structbinning.html">binning</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/d14/Detectors_2TPC_2qc_2src_2PID_8cxx_source.html#l00033">PID.cxx:33</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1ConfigurableGroup_html"><div class="ttname"><a href="../../d8/d72/structo2_1_1framework_1_1ConfigurableGroup.html">o2::framework::ConfigurableGroup</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/dff/Configurable_8h_source.html#l00142">Configurable.h:142</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1Configurable_html"><div class="ttname"><a href="../../d8/d71/structo2_1_1framework_1_1Configurable.html">o2::framework::Configurable</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/dff/Configurable_8h_source.html#l00072">Configurable.h:72</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1BindingNode_html"><div class="ttname"><a href="../../da/d69/structo2_1_1framework_1_1expressions_1_1BindingNode.html">o2::framework::expressions::BindingNode</a></div><div class="ttdoc">An expression tree node corresponding to a column binding.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00129">Expressions.h:129</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1DatumSpec_html"><div class="ttname"><a href="../../de/dbd/structo2_1_1framework_1_1expressions_1_1DatumSpec.html">o2::framework::expressions::DatumSpec</a></div><div class="ttdef"><b>Definition</b> <a href="../../d1/d83/ExpressionHelpers_8h_source.html#l00021">ExpressionHelpers.h:21</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1Filter_html"><div class="ttname"><a href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html">o2::framework::expressions::Filter</a></div><div class="ttdoc">A struct, containing the root of the expression tree.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00617">Expressions.h:617</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1Filter_html_a9d72c74d5f84e185967440af2485dc8a"><div class="ttname"><a href="../../d1/d9a/structo2_1_1framework_1_1expressions_1_1Filter.html#a9d72c74d5f84e185967440af2485dc8a">o2::framework::expressions::Filter::node</a></div><div class="ttdeci">std::unique_ptr&lt; Node &gt; node</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00648">Expressions.h:648</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1LiteralNode_html"><div class="ttname"><a href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html">o2::framework::expressions::LiteralNode</a></div><div class="ttdoc">An expression tree node corresponding to a literal value.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00112">Expressions.h:112</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1LiteralNode_html_a4653af7831fbfb9301edd5206ceeb087"><div class="ttname"><a href="../../d3/d84/structo2_1_1framework_1_1expressions_1_1LiteralNode.html#a4653af7831fbfb9301edd5206ceeb087">o2::framework::expressions::LiteralNode::var_t</a></div><div class="ttdeci">LiteralValue::stored_type var_t</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00123">Expressions.h:123</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1Parser_html_ae3181befec4a1259ee79cb1e155ff3c0"><div class="ttname"><a href="../../d6/d0a/structo2_1_1framework_1_1expressions_1_1Parser.html#ae3181befec4a1259ee79cb1e155ff3c0">o2::framework::expressions::Parser::parse</a></div><div class="ttdeci">static Node parse(std::string const &amp;input)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d8b/Expressions_8cxx_source.html#l01047">Expressions.cxx:1047</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1Tokenizer_html"><div class="ttname"><a href="../../d7/d76/structo2_1_1framework_1_1expressions_1_1Tokenizer.html">o2::framework::expressions::Tokenizer</a></div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00750">Expressions.h:750</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1Tokenizer_html_a3598a7e79277bb1ee268df6fbe3d5050"><div class="ttname"><a href="../../d7/d76/structo2_1_1framework_1_1expressions_1_1Tokenizer.html#a3598a7e79277bb1ee268df6fbe3d5050">o2::framework::expressions::Tokenizer::TokenStr</a></div><div class="ttdeci">std::string TokenStr</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d91/Expressions_8h_source.html#l00756">Expressions.h:756</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1expressions_1_1Tokenizer_html_a859d6fba7d9f013edb91e047bb1bf028"><div class="ttname"><a href="../../d7/d76/structo2_1_1framework_1_1expressions_1_1Tokenizer.html#a859d6fba7d9f013edb91e047bb1bf028">o2::framework::expressions::Tokenizer::nextToken</a></div><div class="ttdeci">int nextToken()</div><div class="ttdef"><b>Definition</b> <a href="../../da/d8b/Expressions_8cxx_source.html#l00849">Expressions.cxx:849</a></div></div>
<div class="ttc" id="astructo2_1_1framework_1_1pack_html"><div class="ttname"><a href="../../d6/d6e/structo2_1_1framework_1_1pack.html">o2::framework::pack</a></div><div class="ttdef"><b>Definition</b> <a href="../../dd/dce/Pack_8h_source.html#l00023">Pack.h:23</a></div></div>
<div class="ttc" id="atest__Expressions_8cxx_html_af086058a09be5f6a331a8ec4e9f0e9f0"><div class="ttname"><a href="../../d0/da5/test__Expressions_8cxx.html#af086058a09be5f6a331a8ec4e9f0e9f0">printTokens</a></div><div class="ttdeci">void printTokens(Tokenizer &amp;t)</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da5/test__Expressions_8cxx_source.html#l00329">test_Expressions.cxx:329</a></div></div>
<div class="ttc" id="atest__ctf__io__cpv_8cxx_html_af35588954eba20a68d7784c5900333d6"><div class="ttname"><a href="../../dc/da7/test__ctf__io__cpv_8cxx.html#af35588954eba20a68d7784c5900333d6">tree</a></div><div class="ttdeci">std::unique_ptr&lt; TTree &gt; tree((TTree *) flIn.Get(std::string(o2::base::NameConf::CTFTREENAME).c_str()))</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_bcbb2cf9a3d3d83e5515c82071a07177.html">Framework</a></li><li class="navelem"><a class="el" href="../../dir_9f165b2481dacfe69aa54d326bd5cd47.html">Core</a></li><li class="navelem"><a class="el" href="../../dir_8cb91374fcd70b92d5ee52379f113c0f.html">test</a></li><li class="navelem"><a class="el" href="../../d0/da5/test__Expressions_8cxx.html">test_Expressions.cxx</a></li>
    <li class="footer">Generated on Fri Oct 31 2025 12:28:11 for Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
