<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: Notes:</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/dd5/md__2home_2runner_2work_2AliceO2_2AliceO2_2Framework_2Foundation_23rdparty_2x9_2examples_2README.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Notes:</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>Inbox N is always associated with a message of type N, hence to inbox 1 producers will write messages of type 1 and consumers will read messages of type 1, and so on.</li>
<li>Each producer/consumer runs in a unique thread.</li>
<li>All x9_inbox sizes equal 4. This is not ideal for performance and should not be used as a guideline. The reason why I use such a small buffer is because I wanted to saturate the inbox and make it much more likely to trigger a data race (which there is none).</li>
<li>All examples/tests can be run by executing ./run_examples.sh</li>
</ul>
<div class="fragment"><div class="line">──────▷  write to</div>
<div class="line">─ ─ ─ ▷  read from</div>
</div><!-- fragment --><h1>Examples </h1>
<h1>@icode x9_example_1.c:  One producer One consumer One message type  ┌────────┐ ┏━━━━━━━━┓ ┌────────┐ │Producer│──────▷┃ inbox ┃◁ ─ ─ ─│Consumer│ └────────┘ ┗━━━━━━━━┛ └────────┘  This example showcases the simplest (multi-threading) pattern.  Data structures used:usedx9_inbox  Functions used:usedx9_create_inboxx9_create_inboxx9_inbox_is_validx9_inbox_is_validx9_write_to_inbox_spinx9_write_to_inbox_spinx9_read_from_inbox_spinx9_read_from_inbox_spinx9_free_inbox  Test is considered passed iff:iffNone of the threads stall and exit cleanly after doing the work..All messages sent by the producer(s) are received and asserted to be valid by the consumer(s). @endicode </h1>
<h1>@icode x9_example_2.c  Two producers. One consumer and producer simultaneously. One consumer.  ┌────────┐ ┏━━━━━━━━┓ ┏━━━━━━━━┓ │Producer│─────▷┃ ┃ ┌────────┐ ┃ ┃ └────────┘ ┃ ┃ │Consumer│ ┃ ┃ ┌────────┐ ┃inbox 1 ┃◁ ─ ─ │ and │─────▷┃inbox 2 ┃◁ ─ ─ │Consumer│ ┌────────┐ ┃ ┃ │Producer│ ┃ ┃ └────────┘ │Producer│─────▷┃ ┃ └────────┘ ┃ ┃ └────────┘ ┗━━━━━━━━┛ ┗━━━━━━━━┛  This example showcase using multiple threads to write to the same inbox, using multiple message types, the 'x9_node' abstraction, and respective create/free and select functions.  Data structures used:usedx9_inboxx9_inboxx9_node  Functions used:usedx9_create_inboxx9_create_inboxx9_inbox_is_validx9_inbox_is_validx9_create_nodex9_create_nodex9_node_is_validx9_node_is_validx9_select_inbox_from_nodex9_select_inbox_from_nodex9_write_to_inbox_spinx9_write_to_inbox_spinx9_read_from_inbox_spinx9_read_from_inbox_spinx9_free_node_and_attached_inboxes  Test is considered passed iff:iffNone of the threads stall and exit cleanly after doing the work..All messages sent by the producer(s) are received and asserted to be valid by the consumer(s). @endicode </h1>
<h1>@icode x9_example_3.c  Two producers and simultaneously consumers.  ┌────────┐ ┏━━━━━━━━┓ ┌────────┐ │Producer│──────▷┃inbox 1 ┃◁ ─ ─ ─│Producer│ │ │ ┗━━━━━━━━┛ │ │ │ and │ │ and │ │ │ ┏━━━━━━━━┓ │ │ │Consumer│─ ─ ─ ▷┃inbox 2 ┃◁──────│Consumer│ └────────┘ ┗━━━━━━━━┛ └────────┘  This example showcases the use of: 'x9_write_to_inbox' and 'x9_read_from_inbox', which, unlike 'x9_write_to_inbox_spin' and 'x9_read_from_inbox_spin' do not block until are able to write/read a msg.  Data structures used:usedx9_inboxx9_inboxx9_node  Functions used:usedx9_create_inboxx9_create_inboxx9_inbox_is_validx9_inbox_is_validx9_create_nodex9_create_nodex9_node_is_validx9_node_is_validx9_select_inbox_from_nodex9_select_inbox_from_nodex9_write_to_inboxx9_write_to_inboxx9_read_from_inboxx9_read_from_inboxx9_free_node_and_attached_inboxes  Test is considered passed iff:iffNone of the threads stall and exit cleanly after doing the work..All messages sent by the producer(s) are received and asserted to be valid by the consumer(s). @endicode </h1>
<h1>@icode x9_example_4.c  One producer broadcasts the same message to three inboxes. Three consumers read from each inbox. One message type.  ┏━━━━━━━━┓ ┌────────┐ ┌──▷┃ inbox ┃◁─ ─ ─│Consumer│ │ ┗━━━━━━━━┛ └────────┘ ┌────────┐ │ ┏━━━━━━━━┓ ┌────────┐ │Producer│───┼──▷┃ inbox ┃◁─ ─ ─│Consumer│ └────────┘ │ ┗━━━━━━━━┛ └────────┘ │ ┏━━━━━━━━┓ ┌────────┐ └──▷┃ inbox ┃◁─ ─ ─│Consumer│ ┗━━━━━━━━┛ └────────┘  This example showcases the use of 'x9_broadcast_msg_to_all_node_inboxes'.  Data structures used:usedx9_inboxx9_inboxx9_node  Functions used:usedx9_create_inboxx9_create_inboxx9_inbox_is_validx9_inbox_is_validx9_create_nodex9_create_nodex9_node_is_validx9_node_is_validx9_broadcast_msg_to_all_node_inboxesx9_broadcast_msg_to_all_node_inboxesx9_read_from_inbox_spinx9_read_from_inbox_spinx9_free_node_and_attached_inboxes  IMPORTANT:IMPORTANTAll inboxes must receive messages of the same type (or at least of the same size) that its being broadcasted.  Test is considered passed iff:iffNone of the threads stall and exit cleanly after doing the work..All messages sent by the producer(s) are received and asserted to be valid by the consumer(s). @endicode </h1>
<h1>@icode x9_example_5.c  Three producers. Three consumers reading concurrently from the same inbox. One message type.  ┌────────┐ ┌────────┐ ┏━━━━━━━━┓ ─ ─│Consumer│ │Producer│──────▷┃ ┃ │ └────────┘ ├────────┤ ┃ ┃ ┌────────┐ │Producer│──────▷┃ inbox ┃◁──┤─ ─│Consumer│ ├────────┤ ┃ ┃ └────────┘ │Producer│──────▷┃ ┃ │ ┌────────┐ └────────┘ ┗━━━━━━━━┛ ─ ─│Consumer│ └────────┘  This example showcases the use of 'x9_read_from_shared_inbox'.  Data structures used:usedx9_inbox  Functions used:usedx9_create_inboxx9_create_inboxx9_inbox_is_validx9_inbox_is_validx9_write_to_inbox_spinx9_write_to_inbox_spinx9_read_from_shared_inboxx9_read_from_shared_inboxx9_free_inbox  Test is considered passed iff:iffNone of the threads stall and exit cleanly after doing the work..All messages sent by the producer(s) are received and asserted to be valid by the consumer(s)..Each consumer processes at least one message. @endicode </h1>
<h1>@icode x9_example_6.c  One producer Two consumers reading from the same inbox concurrently (busy loop). One message type.  ┏━━━━━━━━┓ ┌────────┐ ┃ ┃ ─ ─│Consumer│ ┌────────┐ ┃ ┃ │ └────────┘ │Producer│──────▷┃ inbox ┃◁ ─ └────────┘ ┃ ┃ │ ┌────────┐ ┃ ┃ ─ ─│Consumer│ ┗━━━━━━━━┛ └────────┘  This example showcases the use of 'x9_read_from_shared_inbox_spin'.  Data structures used:usedx9_inbox  Functions used:usedx9_create_inboxx9_create_inboxx9_inbox_is_validx9_inbox_is_validx9_write_to_inbox_spinx9_write_to_inbox_spinx9_read_from_shared_inbox_spinx9_read_from_shared_inbox_spinx9_free_inbox  Test is considered passed iff:iffNone of the threads stall and exit cleanly after doing the work..All messages sent by the producer(s) are received and asserted to be valid by the consumer(s)..Each consumer processes at least one message. @endicode </h1>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 31 2025 12:28:23 for Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
