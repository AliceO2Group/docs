<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: ALICE3 Full Simulation</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d1/d20/refDetectorsUpgradesALICE3.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ALICE3 Full Simulation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>ALICE 3 full simulation</h1>
<h2>Simulation</h2>
<h3>Simulation software for Run 5</h3>
<p>Current simulation approach for ALICE 3 is a specification of what it is used in the main O2 simulation package. It shares the same structure and possibly inherits all the features in place already. For all of the features that are not really Run-5 specific please refer to the official <a href="https://aliceo2group.github.io/simulation/docs/">O2 Simulation Documentation</a>.</p>
<h3>Rationale for the "Upgrades" codebase</h3>
<p>Run 5 code for the detectors is stored in the <code>Detectors/Upgrades/ALICE3</code> directory and its suboflder strucure mimicks the same we have in <code>Detectors</code>. For specific data formats the plan is to keep the same approach in <code>DataFormats/Upgrades</code>.</p>
<h3>Available modules</h3>
<p>Run 5 executable is called <code>o2-sim-run5</code> and accepts the same syntax as <code>o2-sim</code>. There is also the serial vertsion <code>o2-sim-serial-run5</code> that is the serial implementation. The specific modules for Run 5 are enabled by passing their their IDs to the <code>-m</code> parameter of the <code>o2-sim</code>. <a class="el" href="../../d2/d88/classA.html">A</a> list of the available DetIDs is reproted in the table below:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Detector ID   </th><th class="markdownTableHeadNone">Detector description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>A3IP</code>   </td><td class="markdownTableBodyNone">Beam pipe    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>TRK</code>   </td><td class="markdownTableBodyNone">Barrel Tracker    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>TF3</code>   </td><td class="markdownTableBodyNone">Time Of Flight detectors    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>FT3</code>   </td><td class="markdownTableBodyNone">Forward endcaps    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>RCH</code>   </td><td class="markdownTableBodyNone">Ring Imaging Cherenkov detectors    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ECL</code>   </td><td class="markdownTableBodyNone">Electromagnetic Calorimeter    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>MI3</code>   </td><td class="markdownTableBodyNone">Muon Identification    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>FCT</code>   </td><td class="markdownTableBodyNone">Forward Conversion Tracker    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>A3ABSO</code>   </td><td class="markdownTableBodyNone">Absorber    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>A3MAG</code>   </td><td class="markdownTableBodyNone">Magnet   </td></tr>
</table>
<p>Names are arbitrarily chosen and are such as to be orthogonal to any Run 3+ other DetID. The detector IDs of sensitive modules are mapped to the corresponding <code>o2::detector::DetID</code> class definition for convenience, so to be consistent with output names of the hit files.</p>
<h3>Use the ALICE 3 magnetic field</h3>
<p>By definition the <code>o2-sim-run5</code> will use the Run 3 magnetic field configurations. Field description can be overridden with a custom macro with a path exported in the <code>ALICE3_MAGFIELD_MACRO</code> environment variable. The env var <code>ALICE3_SIM_FIELD</code> needs also to be set to <code>ON</code>. Example:</p>
<div class="fragment"><div class="line">export ALICE3_SIM_FIELD=ON</div>
<div class="line">export ALICE3_MAGFIELD_MACRO=../ALICE3Field.C</div>
</div><!-- fragment --><p>An exampling macro for a custom magnetic field is stored in <code>Detectors/Upgrades/macros/ALICE3Field.C</code>.</p>
<h3>Run a simple simulation for run 5</h3>
<p>The simplest command to be run to test the simulation is working is:</p>
<div class="fragment"><div class="line">o2-sim-run5 -n 0</div>
</div><!-- fragment --><p> This will not produce any events but will spin the machinery and will produce the <code>o2sim_geometry.root</code> file with the whole geometry description. To enable a specific set of modules, e.g. the beampipe and the TOFs one can specify which modules to enable, e.g.:</p>
<div class="fragment"><div class="line">o2-sim-run5 -n 10 -m A3IP TF3</div>
</div><!-- fragment --> <h3>Output of the simulation</h3>
<p>The simulation will produce a <code>o2sim_Hits&lt;DetID&gt;.root</code> file with a tree with the hits related to that detector. Currently, hits are produced for: <code>TRK</code>, <code>FT3</code>, and <code>TF3</code>. More detectors will be included.</p>
<h2>Reconstruction</h2>
<p>WIP</p>
<h2>Analysis</h2>
<p>WIP </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d2f/refDetectors.html">Module &#39;Detectors&#39;</a></li><li class="navelem"><a class="el" href="../../d2/d49/refDetectorsUpgrades.html">Upgrades</a></li>
    <li class="footer">Generated on Sat Feb 21 2026 17:59:16 for Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
