<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: IO</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d2/d4e/refDetectorsMUONMCHIO.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">IO</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>I/O tools for reading and writing MCH data in Root format</h1>
<ul>
<li>Digit reader</li>
<li>Digit writer</li>
<li>Precluster reader</li>
<li>Precluster writer</li>
<li>Cluster reader</li>
<li>Cluster writer</li>
<li>Track reader</li>
<li>Track writer</li>
<li>StatusMap reader</li>
<li>StatusMap writer</li>
</ul>
<h2>Digit reader</h2>
<div class="fragment"><div class="line">o2-mch-digits-reader-workflow</div>
</div><!-- fragment --><p>For historical reason the digit reader was targeted at simulated digits (for which we have an extra branch containing MClabel information), so to read real digit files, you'll unfortunately must use the <code>--disable-mc</code> option.</p>
<p>The digit file to be read can be specified with the <code>--mch-digit-infile</code> option.</p>
<p>For some expert usage you can also specify the data specifications that will be used for the digits and the rofs messages (respectively <code>MCH/DIGITS</code> and <code>MCH/DIGITROFS</code> by default) using the <code>--mch-output-digits-data-description</code> and <code>-mch-output-digitrofs-data-description</code>options.</p>
<h2>Digit writer</h2>
<div class="fragment"><div class="line">o2-mch-digits-writer-workflow</div>
</div><!-- fragment --><p>The digit file to be written can be specified with the <code>--mch-digit-outfile</code> option.</p>
<p>For some expert usage you can also specify the data specifications that will be used as sources for the digits and the rofs messages (respectively <code>MCH/DIGITS</code> and <code>MCH/DIGITROFS</code> by default) using the <code>--mch-input-digits-data-description</code> and <code>-mch-input-digitrofs-data-description</code>options.</p>
<h2>Precluster reader</h2>
<div class="fragment"><div class="line">o2-mch-preclusters-reader-workflow --infile mchpreclusters.root</div>
</div><!-- fragment --><p>Send the list of all preclusters (<a href="../../../Base/include/MCHBase/PreCluster.h">PreCluster</a>) in the current time frame, with the data description "PRECLUSTERS", the list of ROF records (<a href="../../../../../../DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/ROFRecord.h">ROFRecord</a>) pointing to the preclusters associated to each interaction, with the data description "PRECLUSTERROFS", and the list of digits (<a href="../..//DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/Digit.h">Digit</a>) associated to preclusters, with the data description "PRECLUSTERDIGITS".</p>
<p>Option <code>--input-dir</code> allows to set the name of the directory containing the input file (default = current directory).</p>
<p>Option <code>--enable-mc</code> allows to also send the precluster MC labels with the data description "PRECLUSTERLABELS".</p>
<h2>Precluster writer</h2>
<div class="fragment"><div class="line">o2-mch-preclusters-writer-workflow</div>
</div><!-- fragment --><p>Take as input the list of all preclusters (<a href="../../../Base/include/MCHBase/PreCluster.h">PreCluster</a>) in the current time frame, the list of all associated digits (<a href="../..//DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/Digit.h">Digit</a>) and the list of ROF records (<a href="../../../../../../DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/ROFRecord.h">ROFRecord</a>) pointing to the preclusters associated to each interaction, with the data description "PRECLUSTERS", "PRECLUSTERDIGITS" and "PRECLUSTERROFS", respectively, and write them in the root file "mchpreclusters.root".</p>
<p>Option <code>--enable-mc</code> allows to also write the precluster MC labels, with the data description "PRECLUSTERLABELS".</p>
<h2>Cluster reader</h2>
<div class="fragment"><div class="line">o2-mch-clusters-reader-workflow --infile mchclusters.root [--enable-mc] [--local] [--no-digits]</div>
</div><!-- fragment --><p>Send the list of all clusters (<a href="../../../../../../DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/Cluster.h">Cluster</a>) in the current time frame, with the data description "GLOBALCLUSTERS", the list of ROF records (<a href="../../../../../../DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/ROFRecord.h">ROFRecord</a>) pointing to the clusters associated to each interaction, with the data description "CLUSTERROFS", and the list of digits (<a href="../..//DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/Digit.h">Digit</a>) associated to clusters, with the data description "CLUSTERDIGITS".</p>
<p>Option <code>--local</code> assumes that clusters are in the local coordinate system and send them with the description "CLUSTERS".</p>
<p>Option <code>--no-digits</code> allows to do not send the associated digits.</p>
<p>Option <code>--enable-mc</code> allows to also send the cluster MC labels with the data description "CLUSTERLABELS".</p>
<h2>Cluster writer</h2>
<div class="fragment"><div class="line">o2-mch-clusters-writer-workflow [--enable-mc] [--local] [--no-digits]</div>
</div><!-- fragment --><p>Take as input the list of all clusters (<a href="../../../../../../DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/Cluster.h">Cluster</a>) in the current time frame, with the data description "GLOBALCLUSTERS", the list of associated digits (<a href="../..//DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/Digit.h">Digit</a>), with the data description "CLUSTERDIGITS", and the list of ROF records (<a href="../../../../../../DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/ROFRecord.h">ROFRecord</a>) pointing to the clusters associated to each interaction, with the data description "CLUSTERROFS", and write them in the root file "mchclusters.root".</p>
<p>Option <code>--local</code> allows to write the list of clusters in the local coordinate system, with the data description "CLUSTERS".</p>
<p>Option <code>--no-digits</code> allows to do not write the associated digits.</p>
<p>Option <code>--enable-mc</code> allows to also write the cluster MC labels, with the data description "CLUSTERLABELS".</p>
<h2>Track reader</h2>
<div class="fragment"><div class="line">o2-mch-tracks-reader-workflow --infile mchtracks.root</div>
</div><!-- fragment --><p>Does the same work as the Track sampler but starting from a Root file (<code>mchtracks.root</code>) containing <code>TRACKS</code>, <code>TRACKROFS</code> and <code>TRACKCLUSTERS</code> containers written e.g. by the o2-mch-tracks-writer-workflow. Note that a very basic utility also exists to get a textual dump of a Root tracks file : <code>o2-mch-tracks-file-dumper</code>.</p>
<p>Option <code>--input-dir</code> allows to set the name of the directory containing the input file (default = current directory).</p>
<p>Option <code>--digits</code> allows to also read the associated digits (<a href="../..//DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/Digit.h">Digit</a>) and send them with the data description "TRACKDIGITS".</p>
<p>Option <code>--enable-mc</code> allows to also read the track MC labels and send them with the data description "TRACKLABELS".</p>
<p>Option <code>--subspec</code> allows to specify a subspec (default is 0) so that several <code>mchtracks.root</code> files can be read in the same workflow (usefull for instance in a comparison workflow).</p>
<h2>Track writer</h2>
<div class="fragment"><div class="line">o2-mch-tracks-writer-workflow --outfile &quot;mchtracks.root&quot;</div>
</div><!-- fragment --><p>Does the same kind of work as the track sink but the output is in Root format instead of custom binary one. It is implemented using the generic <a href="../..//DPLUtils/MakeRootTreeWriterSpec.h">MakeRootTreeWriterSpec</a> and thus offers the same options.</p>
<p>Option <code>--digits</code> allows to also write the associated digits (<a href="../..//DataFormats/Detectors/MUON/MCH/include/DataFormatsMCH/Digit.h">Digit</a>) from the input message with the data description "TRACKDIGITS".</p>
<p>Option <code>--enable-mc</code> allows to also write the track MC labels from the input message with the data description "TRACKLABELS".</p>
<h2>StatusMap reader</h2>
<div class="fragment"><div class="line">o2-mch-statusmaps-reader-workflow --infile mchstatusmaps.root</div>
</div><!-- fragment --><p>Send the status map (<a href="../../../Status/include/MCHStatus/StatusMap.h">StatusMap</a>) of the current time frame, with the data description "STATUSMAP".</p>
<p>Option <code>--input-dir</code> allows to set the name of the directory containing the input file (default = current directory).</p>
<h2>StatusMap writer</h2>
<div class="fragment"><div class="line">o2-mch-statusmaps-writer-workflow</div>
</div><!-- fragment --><p>Take as input the status map (<a href="../../../Status/include/MCHStatus/StatusMap.h">StatusMap</a>) of the current time frame, with the data description "STATUSMAP", and write it in the root file "mchstatusmaps.root". </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d2f/refDetectors.html">Module &#39;Detectors&#39;</a></li><li class="navelem"><a class="el" href="../../d4/dff/refDetectorsMUON.html">MUON</a></li><li class="navelem"><a class="el" href="../../d0/daf/refDetectorsMUONMCH.html">MCH</a></li>
    <li class="footer">Generated on Sat Feb 21 2026 17:59:16 for Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
