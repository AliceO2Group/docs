<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: DCAFitter</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d5/d24/refDetectorsVertexing.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">DCAFitter</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>DCAFitterN</h1>
<p>Templated class to fit the Point of Closest Approach (PCA) of secondary vertex with N prongs. Allows minimization of either absolute or weighted Distances of Closest Approach (DCA) of N tracks to their common PCA.</p>
<p>For every N (prongs) a separate specialization must be instantiated, e.g. </p><div class="fragment"><div class="line"><span class="keyword">using </span>Track = <a class="code hl_typedef" href="../../d1/dec/namespaceo2_1_1track.html#a481bf229764c1bf6aabcdb06c0a49a9a">o2::track::TrackParCov</a>;</div>
<div class="line"><a class="code hl_class" href="../../de/dec/classo2_1_1vertexing_1_1DCAFitterN.html">o2::vertexing::DCAFitterN&lt;2,Track&gt;</a> ft2; <span class="comment">// 2-prongs fitter</span></div>
<div class="line"><span class="comment">// or, to set at once some parameters</span></div>
<div class="line"><span class="keywordtype">float</span> bz = 5.;           <span class="comment">// field in kGauss</span></div>
<div class="line"><span class="keywordtype">bool</span> useAbsDCA = <span class="keyword">true</span>;   <span class="comment">// use abs. DCA minimizaition instead of default weighted</span></div>
<div class="line"><span class="keywordtype">bool</span> propToDCA = <span class="keyword">true</span>;   <span class="comment">// after fit, create a copy of tracks at the found PCA</span></div>
<div class="line"><a class="code hl_class" href="../../de/dec/classo2_1_1vertexing_1_1DCAFitterN.html">o2::vertexing::DCAFitterN&lt;3,Track&gt;</a> ft3(bz, useAbsDCA, propToDCA); <span class="comment">// 3-prongs fitter</span></div>
<div class="ttc" id="aclasso2_1_1vertexing_1_1DCAFitterN_html"><div class="ttname"><a href="../../de/dec/classo2_1_1vertexing_1_1DCAFitterN.html">o2::vertexing::DCAFitterN</a></div><div class="ttdef"><b>Definition</b> <a href="../../d6/da5/DCAFitterN_8h_source.html#l00095">DCAFitterN.h:96</a></div></div>
<div class="ttc" id="anamespaceo2_1_1track_html_a481bf229764c1bf6aabcdb06c0a49a9a"><div class="ttname"><a href="../../d1/dec/namespaceo2_1_1track.html#a481bf229764c1bf6aabcdb06c0a49a9a">o2::track::TrackParCov</a></div><div class="ttdeci">TrackParCovF TrackParCov</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d8b/DataFormats_2Reconstruction_2include_2ReconstructionDataFormats_2Track_8h_source.html#l00033">Track.h:33</a></div></div>
</div><!-- fragment --><p> One can also use predefined aliases <code><a class="el" href="../../d9/d33/namespaceo2_1_1vertexing.html#a2a0295ffe1b402d2ff9bfeb9ee62740f">o2::vertexing::DCAFitter2</a></code> and <code><a class="el" href="../../d9/d33/namespaceo2_1_1vertexing.html#a291a53b08ca00fc8c84c25d25e4454f8">o2::vertexing::DCAFitter3</a></code>; The main processing method is </p><div class="fragment"><div class="line"><a class="code hl_class" href="../../de/dec/classo2_1_1vertexing_1_1DCAFitterN.html">o2::vertexing::DCAFitterN&lt;N,Track&gt;::process</a>(<span class="keyword">const</span> Track&amp; trc1,..., cons Track&amp; trcN);</div>
</div><!-- fragment --><p>The typical use case is (for e.g. 3-prong fitter): </p><div class="fragment"><div class="line"><span class="keyword">using </span>Vec3D    =  <a class="code hl_class" href="../../d5/d11/classROOT_1_1Math_1_1SVector.html">ROOT::Math::SVector&lt;double,3&gt;</a>; <span class="comment">// this is a type of the fitted vertex</span></div>
<div class="line"><a class="code hl_class" href="../../de/dec/classo2_1_1vertexing_1_1DCAFitterN.html">o2::vertexing::DCAFitter3</a> ft;</div>
<div class="line">ft.setBz(5.0);</div>
<div class="line">ft.setPropagateToPCA(<span class="keyword">true</span>); <span class="comment">// After finding the vertex, propagate tracks to the DCA. This is default anyway</span></div>
<div class="line">ft.setMaxR(200);            <span class="comment">// do not consider V0 seeds with 2D circles crossing above this R. This is default anyway</span></div>
<div class="line">ft.setMaxDZIni(4);          <span class="comment">// do not consider V0 seeds with tracks Z-distance exceeding this. This is default anyway</span></div>
<div class="line">ft.setMaxDXYIni(4);         <span class="comment">// do not consider V0 seeds with tracks XY-distance exceeding this. This is default anyway</span></div>
<div class="line">ft.setMinParamChange(1e-3); <span class="comment">// stop iterations if max correction is below this value. This is default anyway</span></div>
<div class="line">ft.setMinRelChi2Change(0.9);<span class="comment">// stop iterations if chi2 improves by less that this factor</span></div>
<div class="line">ft.setMaxChi2(10);          <span class="comment">// discard vertices with chi2/Nprongs (or sum{DCAi^2}/Nprongs for abs. distance minimization)</span></div>
<div class="line"> </div>
<div class="line">Track tr0,tr1,tr2;                  <span class="comment">// decide candidate tracks</span></div>
<div class="line"><span class="keywordtype">int</span> nc = ft.process(tr0,tr1,tr2);   <span class="comment">// one can have up to 2 candidates, though the 2nd (if any) will have worse quality</span></div>
<div class="line"><span class="keywordflow">if</span> (nc) {</div>
<div class="line">   Vec3D vtx = ft.getPCACandidate(); <span class="comment">// same as ft.getPCACandidate(0);</span></div>
<div class="line">   <a class="code hl_function" href="../../dc/da7/test__ctf__io__cpv_8cxx.html#a1ef7964b771b9b29688dfa8810b27d00">LOG</a>(info) &lt;&lt; <span class="stringliteral">&quot;found vertex &quot;</span> &lt;&lt; vtx[0] &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; vtx[1] &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; vtx[2];</div>
<div class="line">   <span class="comment">// access the track&#39;s X parameters at PCA</span></div>
<div class="line">   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a>=0;<a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a>&lt;3;<a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a>++) {</div>
<div class="line">    <a class="code hl_function" href="../../dc/da7/test__ctf__io__cpv_8cxx.html#a1ef7964b771b9b29688dfa8810b27d00">LOG</a>(info) &lt;&lt; <span class="stringliteral">&quot;Track &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a> &lt;&lt; <span class="stringliteral">&quot; at PCA for X = &quot;</span> &lt;&lt; ft.getTrackX(<a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a>);</div>
<div class="line">   }</div>
<div class="line">   <span class="comment">// access directly the tracks propagated to the DCA</span></div>
<div class="line">   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a>=0;<a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a>&lt;3;<a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a>++) {</div>
<div class="line">     <span class="keyword">const</span> <span class="keyword">auto</span>&amp; track = ft.<a class="code hl_function" href="../../de/dec/classo2_1_1vertexing_1_1DCAFitterN.html#ad7f0bff6fb4a271c2009ef1014cae208">getTrack</a>(<a class="code hl_variable" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a>);</div>
<div class="line">     track.print();</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="ttc" id="aGPUCommonAlgorithm_8h_html_ad9484f5522d0e5f033037c369365ec61"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#ad9484f5522d0e5f033037c369365ec61">i</a></div><div class="ttdeci">int32_t i</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00435">GPUCommonAlgorithm.h:436</a></div></div>
<div class="ttc" id="aclassROOT_1_1Math_1_1SVector_html"><div class="ttname"><a href="../../d5/d11/classROOT_1_1Math_1_1SVector.html">ROOT::Math::SVector</a></div><div class="ttdef"><b>Definition</b> <a href="../../d1/d90/GPUROOTSMatrixFwd_8h_source.html#l00028">GPUROOTSMatrixFwd.h:28</a></div></div>
<div class="ttc" id="aclasso2_1_1vertexing_1_1DCAFitterN_html_ad7f0bff6fb4a271c2009ef1014cae208"><div class="ttname"><a href="../../de/dec/classo2_1_1vertexing_1_1DCAFitterN.html#ad7f0bff6fb4a271c2009ef1014cae208">o2::vertexing::DCAFitterN::getTrack</a></div><div class="ttdeci">Track &amp; getTrack(int i, int cand=0)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/da5/DCAFitterN_8h_source.html#l00184">DCAFitterN.h:184</a></div></div>
<div class="ttc" id="atest__ctf__io__cpv_8cxx_html_a1ef7964b771b9b29688dfa8810b27d00"><div class="ttname"><a href="../../dc/da7/test__ctf__io__cpv_8cxx.html#a1ef7964b771b9b29688dfa8810b27d00">LOG</a></div><div class="ttdeci">LOG(info)&lt;&lt; &quot;Compressed in &quot;&lt;&lt; sw.CpuTime()&lt;&lt; &quot; s&quot;</div></div>
</div><!-- fragment --><p>By default the propagation is done with bZ provided by the user and w/o material corrections applied. One can request the propagation with full local field and/or material corrections by setting </p><div class="fragment"><div class="line">ft.setUsePropagator(true); // use must take care of initialization of the propagator (loading geometry and magnetic field)</div>
<div class="line">ft.setMatCorrType(o2::base::Propagator::MatCorrType::USEMatCorrLUT); // of USEMatCorrTGeo</div>
</div><!-- fragment --><p>Note that if material correction is not default USEMatCorrNone, then the propagator will be used even if not requested (hence must be initialized by the user).</p>
<p>To get the most precise results one can request <code>ft.setRefitWithMatCorr(true)</code>: in this case when <code>propagateTracksToVertex()</code> is called, the tracks will be propagated to the <a class="el" href="../../df/d0e/structV0.html">V0</a> with requested material corrections, one new <a class="el" href="../../df/d0e/structV0.html">V0</a> minimization will be done and only after that the final propagation to final <a class="el" href="../../df/d0e/structV0.html">V0</a> position will be done. Since this is CPU consiming, it is reccomended to disable propagation to <a class="el" href="../../df/d0e/structV0.html">V0</a> by default (<code>ft.setPropagateToPCA(false)</code>) and call separately <code>ft.propagateTracksToVertex()</code> after preliminary checks on the <a class="el" href="../../df/d0e/structV0.html">V0</a> candidate.</p>
<p>By default the final <a class="el" href="../../df/d0e/structV0.html">V0</a> position is defined as 1) With <code>useAbsDCA = true</code>: simple average of tracks position propagated to respective <code>X_dca</code> parameters and rotated to the lab. frame. 2) With <code>useAbsDCA = false</code>: weighted (by tracks covariances) average of tracks position propagated to respective <code>X_dca</code> parameters and rotated to the lab. frame.</p>
<p>Extra method <code>setWeightedFinalPCA(bool)</code> is provided for the "mixed" mode: if <code>setWeightedFinalPCA(true)</code> is set with <code>useAbsDCA = true</code> before the <code>process</code> call, the minimization will be done neglecting the track covariances, but the final <a class="el" href="../../df/d0e/structV0.html">V0</a> position will be calculated using weighted average. One can also recalculate the <a class="el" href="../../df/d0e/structV0.html">V0</a> position by the weighted average method by calling explicitly <code>ft.recalculatePCAWithErrors(int icand=0)</code>, w/o prior call of <code>setWeightedFinalPCA(true)</code>: this will update the position returned by the <code>getPCACandidate(int cand = 0)</code>.</p>
<p>The covariance matrix of the <a class="el" href="../../df/d0e/structV0.html">V0</a> position is calculated as an inverted sum of tracks inversed covariances at respective <code>X_dca</code> points.</p>
<p>See <code><a class="el" href="../../dd/de2/testDCAFitterN_8cxx.html">O2/Common/DCAFitter/test/testDCAFitterN.cxx</a></code> for more extended example. Currently only 2 and 3 prongs permitted, thought this can be changed by modifying <code>DCAFitterN::NMax</code> constant.</p>
<h2>Error handling</h2>
<p>It may happen that the track propagation to the the proximity of the PCA fails at the various stage of the fit. In this case the fit is abandoned and the failure flag is set, it can be checked using isPropagationFailure(int cand = 0)` method.</p>
<p>Also, due to the linearization errors the covariance matrix of the track propagated to some point may become non-positive defined. In this case the relevant correlation coefficient of the cov.matrix is redefined to cure the position part of the cov.matrix and further program flow depends on the user settings for <code>DCAFitterN::setBadCovPolicy(v)</code>:</p>
<p><code>DCAFitterN::setBadCovPolicy(DCAFitterN::Discard);</code> : abandon fit (default)</p>
<p><code>DCAFitterN::setBadCovPolicy(DCAFitterN::Override);</code> : continue fit with overridden cov.matrix</p>
<p><code>DCAFitterN::setBadCovPolicy(DCAFitterN::OverrideAnFlag);</code> continue fit with overridden cov.matrix but set the propagation failure flag (can be checked using the same <code>isPropagationFailure(int cand = 0)</code> method).</p>
<h2>Fit status</h2>
<p>The fitter provides a fit status for each candidate, which can be retrieved using: </p><div class="fragment"><div class="line">FitStatus status = ft.getFitStatus(int cand = 0);</div>
</div><!-- fragment --><p> The possible values are: </p><div class="fragment"><div class="line">enum FitStatus : uint8_t {    // part of the DCAFitterN class</div>
<div class="line">     None,                    // no status set (should not be possible!)</div>
<div class="line"> </div>
<div class="line">     /* Good Conditions */</div>
<div class="line">     Converged, // fit converged</div>
<div class="line">     MaxIter,   // max iterations reached before fit convergence (can still be a good vertex)</div>
<div class="line"> </div>
<div class="line">     /* Error Conditions */</div>
<div class="line">     NoCrossing,      // no reasonable crossing was found</div>
<div class="line">     RejRadius,       // radius of crossing was not acceptable</div>
<div class="line">     RejTrackX,       // one candidate track x was below the minimum required radius</div>
<div class="line">     RejTrackRoughZ,  // rejected by rough cut on tracks Z difference</div>
<div class="line">     RejChi2Max,      // rejected by maximum chi2 cut</div>
<div class="line">     FailProp,        // propagation of at least prong to PCA failed</div>
<div class="line">     FailInvCov,      // inversion of cov.-matrix failed</div>
<div class="line">     FailInvWeight,   // inversion of Ti weight matrix failed</div>
<div class="line">     FailInv2ndDeriv, // inversion of 2nd derivatives failed</div>
<div class="line">     FailCorrTracks,  // correction of tracks to updated x failed</div>
<div class="line">     FailCloserAlt,   // alternative PCA is closer</div>
<div class="line">};</div>
</div><!-- fragment --><p> This is allows to track where candiate fit was abondended. </p><div class="fragment"><div class="line">int nc = ft.process(tr0,tr1,tr2);</div>
<div class="line">auto status = ft.getFitStatus();</div>
<div class="line">if (nc) {</div>
<div class="line">     // status can either be FitStatus::Converged or FitStatus::MaxIter</div>
<div class="line">}</div>
<div class="line">// status can be on of the error conditions</div>
</div><!-- fragment --><p> <a class="el" href="../../d2/d88/classA.html">A</a> more thorough example is given in <code><a class="el" href="../../dd/de2/testDCAFitterN_8cxx.html">testDCAFitterN.cxx</a></code>.</p>
<h1>Classes for Vertexing</h1>
<h2>DCAFitterN</h2>
<p>Was moved to Common/DCAFitte.</p>
<h2>Primary Vertexing</h2>
<p>The workflow is <code>o2-primary-vertexing-workflow</code>, the vertexing parameters are provided via configurable param <code>pvertexer...</code> of <code>PVertexerParams</code> class. The vertexing first runs an improvized version of <code>DBSCan</code> to group tracks losely converging to <code>MeanVertex</code> into <code>time-Z</code> clusters, then finds for each such a cluster vertices using as a seed the peaks from histogrammed tracks <code>time-Z</code> values.</p>
<p>Lot of numerical values in the params must be fine-tuned when the tracking performance will be close to final, particularly the fake ITS-TPC matches (which are prone to create fake vertices). By default the vertices will be fitted using the <code>MeanVertex</code> as an extra measured point.</p>
<p>Two groups of parameters need particular attention:</p>
<p>1) Debris (split vertices) reduction: after finding the vertices it tries to suppress low-multiplicity vertices in a close proximity (in Z and in time) of high-multiplicity ones. See <code>PVertexerParams.*Debris</code> parameters comments and <code>PVertexer::reduceDebris</code> method. 2) Tracks re-attachment: after finding the vertices and optionally reducing debris, it finds for each track closest vertex (in time and in Z) and refits these groups of tracks using corresponding vertices as seeds. The reason to apply this procedure is the bad time resolution of ITS standalone tracks (=ROF duration): high multiplicity vertex has high chances to steal such tracks belonging to nearby low-multiplicity ones (since it is found first). The reattachment allows to eliminate this effect of particular order of vertex finding. It should be applied <em>only</em> in case the debris reduction was performed, otherwise the low-multiplicity split vertices will steal tracks from high-multiplicity ones. The tracks are tested for belonging to given vertex only if they are in certain <code>time-range</code> from the fitted vertex time. This <code>time-range</code> is defined as <code>PVertexerParams.timeMarginReattach</code> + half of <code>DBSCan</code> time difference cut value <code>PVertexerParams.dbscanDeltaT</code> or half <code>ITS</code> strobe length (ROF), whichever larger.</p>
<p>In order to tune the parameters, a special debug output file is written when the code is compiled with <code>_PV_DEBUG_TREE_</code> uncommented in <code><a class="el" href="../../d4/d02/PVertexer_8h.html" title="Primary vertex finder.">PVertexer.h</a></code>. It contains the (i) tree of <code>time-Z</code> clusters found by <code>DBSCan</code> (<code>pvtxDBScan</code>), the seeding histograms for every <code>time-Z</code> cluster after every vertexing iteration; (ii) the <code>pvtxComp</code> tree containing the pairs of vertices which were considered as close by the <code>reduceDebris</code> routine, their mutual <code>chi2</code> in <code>Z</code> and <code>time</code>, as well as the decision to reject the vertex with lower multiplicity (2nd one); (iii) the <code>pvtx</code> tree with final vertices and their belonging tracks.</p>
<p>To see the effect of running with and w/o <code>re-attachment</code>, one can compare the outputs of 2 tests, e.g. </p><div class="fragment"><div class="line"> `</div>
<div class="line">o2-primary-vertexing-workflow --run --configKeyValues &quot;pvertexer.useMeanVertexConstraint=true;pvertexer.applyDebrisReduction=true;pvertexer.applyReattachment=false&quot;</div>
</div><!-- fragment --><p> <code> and @icode</code> o2-primary-vertexing-workflow &ndash;run &ndash;configKeyValues "pvertexer.useMeanVertexConstraint=true;pvertexer.applyDebrisReduction=true;pvertexer.applyReattachment=true"  `</p>
<h2>Secondary Vertexing</h2>
<p>The workflow is <code>o2-secondary-vertexing-workflow</code>. At the moment the TPC tracks are not involved in secondary vertex search. The available options are: </p><div class="fragment"><div class="line">--vertexing-sources arg (=all)        comma-separated list of sources to use in vertexing</div>
</div><!-- fragment --> <div class="fragment"><div class="line">--disable-cascade-finder              do not run cascade finder</div>
</div><!-- fragment --><p> Plenty of options can be provided via <code>--configKeyValues "svertexer.&lt;key&gt;=</code></p>
<p><code></code>, see SVertexerParams class for details. Note the parameter <code>maxPVContributors</code> which tells how many primary vertex contributors can be used in <a class="el" href="../../df/d0e/structV0.html">V0</a> (in case of 0 the PV contributors are not included into the tracks pool). If <code>minDCAToPV</code> is positive, then only tracks having their DCA to <code>MeanVertex</code> (not the PV!) above this value will be used. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d2f/refDetectors.html">Module &#39;Detectors&#39;</a></li>
    <li class="footer">Generated on Sat Feb 21 2026 17:59:16 for Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
